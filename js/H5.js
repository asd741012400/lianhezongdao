var Y={};!function(k){var e;if(window.error=function(){},window.log=console&&console.log,Date.prototype.only=function(){var t=this.getTime().toString();return t=- -t.substr(t.length-10,9)},Date.prototype.age=function(t,e,i){var n=0;return n=this.getFullYear()-t,this.getMonth()+1>e?n++:this.getMonth()+1==e&&this.getDate()>=i&&n++,n-1},Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},Date.prototype.parse=function(t,e){var i=[],n=[];switch(e){case"date":i=t.split("-");break;case"time":n=t.split(":");break;default:i=(t=t.split(" "))[0].split("-"),n=t[1].split(":")}return i[0]&&this.setFullYear(i[0]),i[1]&&this.setMonth(i[1]-1),i[2]&&this.setDate(i[2]),n[0]&&this.setHours(n[0]),n[1]&&this.setMinutes(n[1]),n[2]&&this.setSeconds(n[2]),this},Date.prototype.contDown=function(t){var e=(t=t.split(" "))[0].split("-"),i=t[1].split(":"),n=new Date;return n.setFullYear(e[0],e[1]-1,e[2]),n.setHours(i[0]),n.setMinutes(i[1]),n.setSeconds(i[2]),parseInt((n.getTime()-this.getTime())/1e3)},Date.prototype.weekDay=function(){var t=this.getDay();switch(t){case 0:t="星期日";break;case 1:t="星期一";break;case 2:t="星期二";break;case 3:t="星期三";break;case 4:t="星期四";break;case 5:t="星期五";break;case 6:t="星期六"}return t},String.prototype.replaceAll=function(t,e){return this.split(t).join(e)},String.prototype.max=function(t,e){e=e||"...";var i=this;return i=i.length>t?i.substr(0,t-e.length)+e:i},String.prototype._eval=function(t,e,i){var n=this;for(var s in t){var a=t[s];a=null==a||null==a?"":a,n=(n=n.replace(new RegExp("{()"+s+"}","gi"),a)).replace(new RegExp("{listStyle_"+s+"}","gi"),"string"==typeof a?a.charAt(0):"?"),e&&(n=e(n,s,a,t))}return i&&(n=i(n,t)),n},String.prototype.dhms=function(){var t=- -this,e="",i=parseInt(t/86400);e=0<i?i+"天":"";var n=parseInt(t/3600%24);(e||0<n)&&(e+=n+"小时");var s=parseInt(t/60%60);(e||0<s)&&(e+=s+"分");var a=parseInt(t%60);return(e||0<a)&&(e+=a+"秒"),e},k.Version={createTime:1527144799361,authorize:0},k.setImgSize=function(t){t.type=t.type||1;var e,i,n=t.w,s=t.h,a=t._w,o=t._h;if(n<=a&&s<=o)e=n,i=s;else switch(t.type){case"x":a<=n&&(e=a,i=l());break;case"y":o<=s&&(i=o,e=r());break;default:a<=n?(e=a,i=l(),o<i&&(i=o,e=r())):o<=s&&(i=o,e=r())}function r(){return o/s*n}function l(){return a/n*s}return[e,i,(o-i)/2,(a-e)/2]},k.creatElement=function(t,e){e=e||{};var i=document.createElement(t);for(var n in e)"parent"!=n&&"attr"!=n&&"style"!=n&&(i[n]=e[n]);if(e.attr)for(n in e.attr)i.setAttribute(n,e.attr[n]);if(e.style)for(n in e.style)i.style[n]=e.style[n];return e.parent&&(e.parent.appendChild?e.parent.appendChild(i):document.body.appendChild(i)),i},k.computPX=function(t){return t*document.body.scrollWidth/750},k.computStyle=function(t){return t=t.replace(new RegExp("([0-9]+)px","gm"),function(t,e){return k.computPX(e)+"px"})},k.computInited=!1,k.computCSS=function(t,e,i){(i=i||{}).dataType="text",new k.Ajax(t,function(t){t=k.computStyle(t),i.replace&&(t=i.replace(t)),k.computInited?document.getElementById("setStyle").innerHTML+=t:(k.creatElement("style",{innerHTML:t,id:"setStyle",parent:!0}),k.computInited=!0),e&&e()},i).action()},k.SelectH5=function(r,l,d,h){var c=this;h=h||{};var n=k.computPX(h.itemsHeight||600),p=k.computPX(h.itemHeight||60);this.dom=k.creatElement("div",{style:{height:n+"px",overflow:"hidden"}});var u=k.creatElement("div",{style:{transition:"all 0.3s"},parent:this.dom}),f="";this.selectedStyle=h.selectedStyle||function(t,e){t&&(t.style.opacity=e?1:.5)};var g=!1;this.run=function(t,e){f&&this.selectedStyle(f),l=l>r.length-1?r.length-1:l,f=r[l=l<0?0:l];var i=l*p-n/2;u.style.transform="translate(0px, "+-i+"px)",this.selectedStyle(f,!0),d(l),g&&(h.endFn&&h.endFn(l),g=!1),t&&0<t&&setTimeout(function(){l+=e,1==t&&(g=!0),c.run(t-1,e)},1e3/60)},this.build=function(t,e){if(t&&(r=t),f="",u.innerHTML="",h.click){this.dom.style.height="auto",this.dom.style.padding=k.computPX(10)+"px 0px",f=r[l],this.selectedStyle(f,!0);for(i=0;i<r.length;i++)r[i].i=i,r[i].onclick=function(){c.selectedStyle(f),f=this,c.selectedStyle(f,!0),d(this.i)},u.appendChild(r[i])}else{for(var i=0;i<r.length;i++)u.appendChild(r[i]);var s=0,a=l,o=0;function n(t,e,i){t=s-t||0,l=a+parseInt(t/p);var n=0;50<(e-=o)&&0<Math.abs(t)&&e<370&&(n=parseInt(e/120)),c.run(n,t<0?-1:1)}n(),this.dom.binded||(this.dom.addEventListener("touchstart",function(t){a=l,s=t.changedTouches[0].clientY,o=new Date,t.preventDefault()},!1),this.dom.addEventListener("touchmove",function(t){n(t.changedTouches[0].clientY),t.preventDefault()},!1),this.dom.addEventListener("touchend",function(t){var e=new Date;370<=e-o&&(g=!0),n(t.changedTouches[0].clientY,e,t.changedTouches[0].force),t.preventDefault()},!1),this.dom.binded=!0),null!=t&&null!=e?c.run(e-l,e<l?-1:1):n()}}},k.Picker=function(){this.dom=document.body,this.cover=null,this.callback=null,this.rc=null,this.remove=function(){this.closeFn&&this.closeFn(),this.dom.removeChild(this.cover)},this.build=function(t,e){var i=this,n="";if((e=e||{}).box)n=e.box;else{this.cover=k.creatElement("div",{style:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px",zIndex:(new Date).getTime()},className:"pickCover",parent:!0}),n=k.creatElement("div",{className:"pickBox",parent:this.cover});var s=k.creatElement("div",{className:"pickTitle",parent:n}),a=(k.creatElement("div",{style:{marginLeft:k.computPX(32)+"px"},innerHTML:"取消",className:"pickBtn",onclick:function(){i.callback({result:"cancel"}),i.remove()},parent:s}),k.creatElement("div",{style:{flex:1},innerHTML:e.title||"",className:"titleText",parent:s}),k.creatElement("div",{style:{marginRight:k.computPX(32)+"px"},innerHTML:"确定",className:"pickBtn",onclick:function(){i.callback(i.rc),i.remove()},parent:s}),"");for(var o in e.keyframes=e.keyframes||{},e.keyframes)a+="@keyframes "+o+"{\nfrom:{"+e.keyframes[o].from+"}\nto:{"+e.keyframes[o].to+"}\n}\n";for(o in e.classes=e.classes||{},e.classes.pickCover=e.classes.pickCover||"background:rgba(0,0,0,0.4);font-size:32px",e.classes.pickTitle=e.classes.pickTitle||"height:80px;display:flex;justify-content:space-between;background:#F7FBFD;",e.classes.titleText=e.classes.titleText||"text-align:center;line-height:80px;color:#999;",e.classes.pickBox=e.classes.pickBox||"position:absolute;left:0px;bottom:0px;right:0px;background:#ffffff;",e.classes.pickBtn=e.classes.pickBtn||"color:#03A9F4;font-size:28px;border:1px solid #F7FBFD;width:100px;height:48px;line-height:48px;text-align:center;margin-top:16px;border-radius:6px;",e.classes)a+="."+o+"{"+e.classes[o]+"}\n";a=k.computStyle(a),k.creatElement("style",{innerHTML:a,parent:this.cover})}k.creatElement("div",{parent:n}).appendChild(t)},this.createDomItems=function(t,e){for(var i=[],n=0;n<t.length;n++){var s=t[n].name?t[n].name:t[n];e&&("string"==typeof e?s=e.replace(/{value}/g,s):"function"==typeof e&&(s=e(s))),i.push(k.creatElement("div",{innerHTML:s,style:{height:k.computPX(60)+"px",lineHeight:k.computPX(60)+"px",textAlign:"center",color:"#000000",opacity:.5,transition:"all 0.3s"}}))}return i},this.pick=function(e,t){var i=this;(e=e||{}).index=e.index||0,i.callback=t;var n=new k.SelectH5(this.createDomItems(e.items),e.index,function(t){i.rc={result:"success",data:e.items[t],index:t}});n.build(),this.build(n.dom,e)},this.createItems=function(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i},this.numFormat=function(t){return"string"==typeof t?0==t.charAt(0)?t[1]:t:9<t?t.toString():"0"+t},this.pickTime=function(g,t){var m=this;(g=g||{}).type=g.type||2,m.callback=t;var v={build:function(t){if(t)for(var e in t)g[e]=t[e];var i=k.creatElement("div",{style:{display:"flex",flex:1}});g.box&&(g.box.innerHTML=""),t={endFn:g.end};var n=new Date,s=g.value?g.value.split(":"):[n.getHours(),n.getMinutes(),n.getSeconds()];s[0]=m.numFormat(s[0]);var a=m.createItems(0,23),o=s[0]-a[0],r=m.createItems(0,59),l=s[1]-r[0],d=m.createItems(0,59),h=s[2]-d[0],c=new k.SelectH5(m.createDomItems(a,"{value} 时"),o,function(t){o=t,f()},t);if(c.build(),c.dom.style.flex=1,i.appendChild(c.dom),v.run=function(t){var e=m.numFormat(t)-o;c.run(Math.abs(e),e/Math.abs(e))},1<g.type){s[1]=m.numFormat(s[1]);var p=new k.SelectH5(m.createDomItems(r,"{value} 分"),l,function(t){l=t,f()},t);p.build(),p.dom.style.flex=1,i.appendChild(p.dom),v.run=function(t){t=t.split(":");var e=m.numFormat(t[0])-o;c.run(Math.abs(e),e/Math.abs(e));var i=m.numFormat(t[1])-l;p.run(Math.abs(i),i/Math.abs(i))}}if(2<g.type){s[2]=m.numFormat(s[2]);var u=new k.SelectH5(m.createDomItems(d,"{value} 秒"),h,function(t){h=t,f()},t);u.build(),u.dom.style.flex=1,i.appendChild(u.dom),v.run=function(t){t=t.split(":");var e=m.numFormat(t[0])-o;c.run(Math.abs(e),e/Math.abs(e));var i=m.numFormat(t[1])-l;p.run(Math.abs(i),i/Math.abs(i));m.numFormat(t[2]);u.run(Math.abs(i),i/Math.abs(i))}}function f(){var t=m.numFormat(a[o]);1<g.type&&(t+=":"+m.numFormat(r[l])),2<g.type&&(t+=":"+m.numFormat(d[h])),m.rc={result:"success",data:t},g.change&&g.change(m.rc)}m.build(i,g)}};return v.build(),v},this.pickDate=function(b,t){var S=this;S.callback=t,(b=b||{}).type=b.type||3;var $={build:function(t){if(t)for(var e in t)b[e]=t[e];var i=new Date,n=[[1900,1,1],[2050,12,31]],s=k.creatElement("div",{style:{display:"flex",flex:1}});switch(b.box&&(b.box.innerHTML=""),t={endFn:b.end},b.type){case 1:var a=S.createItems(b.min||n[0][0],b.max||n[1][0]),o=(b.value||i.getFullYear())-a[0];(g=new k.SelectH5(S.createDomItems(a,"{value} 年"),o,function(t){o=t,S.rc={result:"success",data:a[o],index:o},b.change&&b.change.call({year:[o,a]},S.rc)},t)).build(),g.dom.style.flex=1,s.appendChild(g.dom),$.run=function(t){var e=S.numFormat(t)-a[0]-o;g.run(Math.abs(e),e/Math.abs(e))};break;case 2:(f=b.value?b.value.split("-"):[i.getFullYear(),i.getMonth()+1])[1]=S.numFormat(f[1]);var r=b.min?b.min.split("-"):[n[0][0],n[0][1]],l=b.max?b.max.split("-"):[n[1][0],n[1][1]],d=S.createItems(r[0],l[0]),h=f[0]-d[0],c=S.createItems(1,12),p=f[1]-c[0],u={year:[o,d],month:[p,c]};(g=new k.SelectH5(S.createDomItems(d,"{value} 年"),h,function(t){h=t,S.rc={result:"success",data:d[h]+"-"+S.numFormat(c[p])},b.change&&b.change.call(u,S.rc)},t)).build(),(w=new k.SelectH5(S.createDomItems(c,"{value} 月"),p,function(t){p=t,S.rc={result:"success",data:d[h]+"-"+S.numFormat(c[p])},b.change&&b.change.call(u,S.rc)},t)).build(),g.dom.style.flex=1,s.appendChild(g.dom),w.dom.style.flex=1,s.appendChild(w.dom),$.run=function(t){t=t.split("-");var e=S.numFormat(t[0])-o;g.run(Math.abs(e),e/Math.abs(e));var i=S.numFormat(t[1])-p;w.run(Math.abs(i),i/Math.abs(i))};break;default:var f;(f=b.value?b.value.split("-"):[i.getFullYear(),i.getMonth()+1,i.getDate()])[1]=S.numFormat(f[1]),f[2]=S.numFormat(f[2]);r=b.min?b.min.split("-"):n[0],l=b.max?b.max.split("-"):n[1],d=S.createItems(r[0],l[0]),h=f[0]-d[0],c=S.createItems(1,12),p=f[1]-c[0];var g,m=S.createItems(1,30),v=f[2]-m[0],x=[31,28,31,30,31,30,31,31,30,31,30,31],y=(u={year:[o,d],month:[p,c],date:[v,m]},new k.SelectH5(S.createDomItems(m,"{value} 日"),v,function(t){v=t,S.rc={result:"success",data:d[h]+"-"+S.numFormat(c[p])+"-"+S.numFormat(m[v])},b.change&&b.change.call(u,S.rc)},t)),w=new k.SelectH5(S.createDomItems(c,"{value} 月"),p,function(t){p=t,m=S.createItems(1,x[p]),v=v>m[m.length-1]?m[m.length-1]:v,y.build(S.createDomItems(m,"{value} 日"),v)});(g=new k.SelectH5(S.createDomItems(d,"{value} 年"),h,function(t){h=t,x[1]=d[h]%4==0&&d[h]%100!=4||d[h]%400==0?29:28,w.build()})).build(),g.dom.style.flex=1,s.appendChild(g.dom),w.dom.style.flex=1,s.appendChild(w.dom),y.dom.style.flex=1,s.appendChild(y.dom),$.run=function(t){$.build({value:t})}}S.build(s,b)}};return $.build(),$},this.picks=function(i,n){i=i||{};var t=k.creatElement("div",{style:{display:"flex"}});this.rc={result:"success"};for(var s=[],a=[],o=i.args,e=0;e<o.length;e++)!function(e){o[e].box=k.creatElement("div",{style:{flex:1},parent:t}),o[e].end=function(){var t;t=e,i.end&&i.end(t,s,a)},s[e]=new k.Picker,a[e]=s[e][o[e].pickType](o[e])}(e);this.callback=function(t){if("success"==t.result){for(var e=[],i=0;i<s.length;i++)e.push(s[i].rc.data);n({result:"success",data:e})}else n(t)},this.build(t)}},k.detectZoom=function(){var t=0;return window.devicePixelRatio?t=window.devicePixelRatio:window.screen&&window.screen.deviceXDPI&&window.screen.logicalXDPI?t=window.screen.deviceXDPI/window.screen.logicalXDPI:void 0!==window.outerWidth&&void 0!==window.innerWidth&&(t=window.outerWidth/window.innerWidth),Math.round(100*t)},k.getParam=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURIComponent(i[2]):null},k.Cookie={useH5:!0,Get:function(t){if(localStorage&&this.useH5)return localStorage[t];var e=document.cookie.indexOf(t+"="),i=e+t.length+1;if(!e&&t!=document.cookie.substring(0,t.length))return null;if(-1==e)return null;var n=document.cookie.indexOf(";",i);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(i,n))},Set:function(t,e,i,n,s,a){if(localStorage&&this.useH5)return localStorage[t]=e,!1;var o=new Date;o.setTime(o.getTime()),i&&(i=1e3*i*60*60*24);var r=new Date(o.getTime()+i);document.cookie=t+"="+escape(e)+(i?";expires="+r.toGMTString():"")+(n?";path="+n:"")+(s?";domain="+s:"")+(a?";secure":"")},Delete:function(t,e,i){if(localStorage&&this.useH5)return localStorage[t]="",!1;this.Get(t)&&(document.cookie=t+"="+(e?";path="+e:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}},k.getBlobURL=window.URL&&URL.createObjectURL.bind(URL)||window.webkitURL&&webkitURL.createObjectURL.bind(webkitURL)||window.createObjectURL,k.revokeBlobURL=window.URL&&URL.revokeObjectURL.bind(URL)||window.webkitURL&&webkitURL.revokeObjectURL.bind(webkitURL)||window.revokeObjectURL,k.dataURLtoBlob=function(t){for(var e=t.split(","),i=e[0].match(/:(.*?);/)[1],n=atob(e[1]),s=n.length,a=new Uint8Array(s);s--;)a[s]=n.charCodeAt(s);return new Blob([a],{type:i})},k.fileSize=function(t){var e="B";return 1024<t&&(e="Kb",1024<(t=Math.ceil(t/1024))&&(t=parseInt(t/1024*100)/100,e="Mb")),t+e},k.creatCover=function(t){var e=(t=t||{}).id||"creatCover",i=t.obj,n=0,s=0,a=0,o=0;i!=window&&i&&i!=$(window)&&i[0]!=window?(n=i.offset().left,s=i.offset().top,a=i.width(),o=i.height(),i.append("<div id='"+e+"'></div>"),t.unScroll0||i.scrollTop(0)):(a=$(window).width(),o=$(window).height(),$("body").append("<div id='"+e+"'></div>"),t.unScroll0||$(window).scrollTop(0));var r={position:t.position||"absolute",zIndex:t.zIndex||k.zIndex(4),left:n+"px",top:s+"px",opacity:t.opacity||0==t.opacity?t.opacity:.01,background:t.background||"#ffffff",width:i!=window&&i?a+"px":"100%",minHeight:o+"px"};if(t.styles)for(var l in t.styles)r[l]=t.styles[l];$("#"+e).css(r)},k.loading=function(a){var t=(a=a||{}).opacity||.1;this.msg=a.msg||"",this.isOpen=!1,this.rgba="255,255,255,"+t,this.color="#000000",this.imageSrc='<div class="loadEffect" style="transform:scale(0.5,0.5);margin-top: 50px;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>',this.image=$(this.imageSrc),this.loadBoxStyle=a.loadBoxStyle,this.id=null,this.open=function(t,e,i){if(this.id="load"+(new Date).only(),!this.isOpen){t=null==t?this.msg:t,e=null==e?this.rgba:e,i=null==i?this.color:i;var n="<div>"+t+"</div>",s="";k.creatCover({id:this.id+"_cover",obj:this.obj,zIndex:a.zIndex||k.zIndex(4),opacity:0,background:"#ffffff",unScroll0:!0}),s=this.loadBoxStyle?this.loadBoxStyle:this.obj?"text-align:center;border-radius :5px;height:100px;width:100px;position:fixed;z-index:"+(a.zIndex||k.zIndex(4))+";background:rgba("+e+");color:"+i+";left:"+((this.obj.width()-100)/2+this.obj.offset().left)+"px;top:"+((this.obj.height()-100)/2+this.obj.offset().top)+"px":"text-align:center;border-radius :5px;height:100px;width:100px;position:fixed;z-index:"+(a.zIndex||k.zIndex(4))+";background:rgba("+e+");color:"+i+";left:"+($(window).width()-100)/2+"px;top:"+($(window).height()-100)/2+"px",$("body").append("<div id='"+this.id+"' style='"+s+"'>"+this.imageSrc+n+"</div>"),this.isOpen=!0}},this.close=function(){this.isOpen=!1,$("#"+this.id+"_cover").remove(),$("#"+this.id).remove()},this.status=function(){return this.isOpen}},k.confirmx=function(t,e,i){i=i||{};var n=new k.Windows(i);n.width=i._w||300,n.height=i._h||150,n.title=i.title||"提示",n.style=i.style,n.styles=i.styles,n.bodyScrollNo=!!i.bodyScrollNo,n.cancleFn=i.cancleFn,n.content="<div style='text-align: center;' id='alertContent"+n.id+"'>"+t+"</div>",n.bottom=i.noBtns?"":"<div style='text-align: right;margin-right:10px;margin-top: 10px;'><span id='alertOk"+n.id+"' style='padding:5px 15px; border-radius: 3px;cursor: pointer;margin-right:10px;' class='bg_00b7ee'>确定</span><span id='alertCancle"+n.id+"' style='padding:5px 15px; border: 1px solid #e4e4e4; border-radius: 3px;cursor: pointer;'>取消</span></div>",n.open(),i.initFn&&i.initFn();var s=$("#"+n.id+"_content").height(),a=$("#alertContent"+n.id).height();return a<n.height&&$("#alertContent"+n.id).css("padding-top",(s-a)/2+"px"),$("#alertOk"+n.id).click(function(){i.verifyFn?i.verifyFn()&&(e&&e(),n.close(!0)):(e&&e(),n.close(!0))}),$("#alertCancle"+n.id).click(function(){n.close()}),n},k.alertx=function(t,e,i){i=i||{};var n=new k.Windows(i);n.closeBtn=1==i.closeBtn,n.width=i.width||300,n.height=i.height||150,n.title=i.title||"提示",n.style=i.style,n.styles=i.styles,n.content="<div style='text-align: center;' id='alertContent"+n.id+"'>"+t+"</div>",n.bottom="<div style='text-align: right;margin-right:10px;margin-top: 10px;'><span id='alert"+n.id+"' style='padding:5px 15px; border-radius: 3px;cursor: pointer;' class='bg_00b7ee'>确定</span></div>",i.toast&&(n.bottom="",n.titleHeight=0,n.bottomHeight=0,n.styles=n.styles||{},n.styles.box="background:#000;background:rgba(0,0,0,0.7);color:#fff;border-radius:5px;","top"==i.toast.position&&(n.styles.box+="top:150px;"),"bottom"==i.toast.position&&(n.styles.box+="top:auto;bottom:50px;"),n.cover=!1),i.unOpen||n.open(),i.toast&&(e&&e(),setTimeout(function(){n.close()},i.toast.time||3e3));var s=$("#"+n.id+"_content").height(),a=$("#alertContent"+n.id).height();return a<n.height&&$("#alertContent"+n.id).css("padding-top",(s-a)/2+"px"),$("#alert"+n.id).click(function(){n.close(),e&&e()}),n},k.tips=function(t,e){e=e||{};var i=(new Date).only(),n=e.bgColor?e.bgColor:"fcc463",s="<div id='tips"+i+"' style='padding:5px;position:fixed;width:100%;left:0;top:0;z-index:"+i+";background:#"+n+";'><div>"+t+"</div><span id='tipsClose"+i+"' style='position:fixed;right:10px;top:5px;cursor:pointer;'>x</span></div>";$("body").append(s),e.time&&setTimeout(function(){$("#tips"+i).remove()},e.time),$("#tipsClose"+i).click(function(){$("#tips"+i).remove()})},k.Calendar=function(t,e){var f=this,i=(e=e||{}).date,n=e.type;if(this.type=n||"",this.date=new Date,this.selectedDate=new Date,this.yearRange=[1900,2060],this.timeType=e.timeType||[],this.boxStyles=e.boxStyles||"",this.maxDate=null,this.minDate=null,"string"==typeof i){var s=new Date;if(/^\d{4}-\d{1,2}-\d{1,2}/.test(i)){l=(l=(l=parseInt(i.split("-")[0],10))<this.yearRange[0]?this.yearRange[0]:l)>this.yearRange[1]?this.yearRange[1]:l,r=12<(r=(r=parseInt(i.split("-")[1],10))<1?1:r)?12:r;var a=parseInt(i.split("-")[2],10),o=[31,28,31,30,31,30,31,31,30,31,30,31];o[1]=l%4==0&&l%100!=4||l%400==0?29:28,a=(a=a<1?1:a)>o[r-1]?o[r-1]:a,s.setFullYear(l,r-1,a)}else if(/^\d{4}-\d{1,2}/.test(i)){var r;this.type="month",l=(l=(l=parseInt(i.split("-")[0],10))<this.yearRange[0]?this.yearRange[0]:l)>this.yearRange[1]?this.yearRange[1]:l,r=12<(r=(r=parseInt(i.split("-")[1],10))<1?1:r)?12:r,s.setFullYear(l,r-1)}else if(/^\d{4}/.test(i)){var l;this.type="year",l=(l=(l=parseInt(i,10))<this.yearRange[0]?this.yearRange[0]:l)>this.yearRange[1]?this.yearRange[1]:l,s.setFullYear(l)}this.date.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),this.selectedDate.setFullYear(s.getFullYear(),s.getMonth(),s.getDate())}this.obj=t,this.obj&&(t.css({background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABLElEQVQ4T42Sr0/DUBDH3/c1IUuThiHqSECjUCQkmIagSDC9CkKYw8wiMFMoHBbXYPtah0DMbWiwc/wJIKji3ZEmbdN1Xcdzd9/73M8HVb44jgee5y2IaK/y9WmoxCRJtrXWX0RU+/o0ZFk2E5ETZh5WYJqm0qza1gDMUQW5rjvI8/ydiA7aYJdWgwDOwjCcGmNOAUybFbu0GmwvZJNdgMVCho1FbPm+z0EQ/K6Di1GWQGPMCMB9AYjIdRRFsyzLLkTkmYh2qkQrYJqmc631jbX2HMAugEdmfgJw3OxqBSwyJklypLWOmXmstb5zHGdsrf3oBY0xVwBumflSKfXtOM5L2fahUmpCRA+F3dXqQinFAH5E5JWIJmXgJxHtr51x0wmWwOrL/Rcq497+ADrjyL/BazvZAAAAAElFTkSuQmCC) 3px center no-repeat",paddingLeft:"25px",width:t.width()-22+"px"}),t.attr("readonly","readonly")),this.id=null,this.width=350,this.action=null,this.finalDate=null,this.toString=function(){var t="";if("year"==this.type)this.finalDate=this.minDate&&this.date<this.minDate?this.minDate:this.date,this.finalDate=this.maxDate&&this.date>this.maxDate?this.maxDate:this.finalDate,this.finalDate=this.minDate&&this.maxDate&&this.minDate>this.maxDate?this.date:this.finalDate,t=this.finalDate.getFullYear();else if("month"==this.type){this.finalDate=this.minDate&&this.date<this.minDate?this.minDate:this.date,this.finalDate=this.maxDate&&this.date>this.maxDate?this.maxDate:this.finalDate,this.finalDate=this.minDate&&this.maxDate&&this.minDate>this.maxDate?this.date:this.finalDate;var e=this.finalDate.getMonth()+1;t=this.finalDate.getFullYear()+"-"+(e<10?"0"+e:e)}else{this.finalDate=this.minDate&&this.selectedDate<this.minDate?this.minDate:this.selectedDate,this.finalDate=this.maxDate&&this.selectedDate>this.maxDate?this.maxDate:this.finalDate,this.finalDate=this.minDate&&this.maxDate&&this.minDate>this.maxDate?this.selectedDate:this.finalDate;e=this.finalDate.getMonth()+1;var i=this.finalDate.getDate();t=this.finalDate.getFullYear()+"-"+(e<10?"0"+e:e)+"-"+(i<10?"0"+i:i);for(var n=0;n<f.timeType.length;n++)f.timeType[n]=9<f.timeType[n]?parseInt(f.timeType[n]):"0"+parseInt(f.timeType[n]);"time"==this.type?t="":t+=0<this.timeType.length?" ":"",1==this.timeType.length?(this.finalDate.setHours(this.timeType[0]),t+=this.timeType[0]):2==this.timeType.length?(this.finalDate.setHours(this.timeType[0]),this.finalDate.setMinutes(this.timeType[1]),t+=this.timeType[0]+":"+this.timeType[1]):3==this.timeType.length&&(this.finalDate.setHours(this.timeType[0]),this.finalDate.setMinutes(this.timeType[1]),this.finalDate.setSeconds(this.timeType[2]),t+=this.timeType[0]+":"+this.timeType[1]+":"+this.timeType[2])}return t},i?(this.obj&&t.val(i),0<this.timeType.length?"time"==this.type?(this.selectedDate.parse(i,"time"),this.timeType=i.split(":")):(this.selectedDate.parse(i,"date"),this.timeType=i.split(" ")[1].split(":")):this.selectedDate.parse(i,"time"==this.type?"time":"date"),this.finalDate=this.selectedDate):this.obj&&t.val(null==i?this.toString():""),this.zIndex=k.zIndex(4),this.open=function(t){if(!k.Calendar.isShow){k.Calendar.isShow=!0,this.id="calendar"+(new Date).only();var e=$(window).scrollTop();k.creatCover({id:this.id+"_cover",obj:window,zIndex:this.zIndex-1,opacity:0,background:"#ffffff",position:"fixed",unScroll0:!0});var i=this.obj?this.boxStyles+"left:"+this.obj.offset().left+"px;top:"+(this.obj.offset().top+this.obj.height()+5)+"px;":this.boxStyles,n="<div id='"+this.id+"' class='unSelect boxShadow' style='border:1px solid #eee;border-radius :5px;width:"+(this.width+20)+"px;position:absolute;z-index:"+this.zIndex+";"+i+"text-align:center;background:#fff;min-height:200px;color:#333333'>";n+="</div>",$("body").append(n),$(window).scrollTop(e),this.show(),$("#"+this.id+"_cover").click(function(){f.close()}),t&&"function"==typeof t&&(this.action=t)}},this.show=function(t,e){"year"==this.type&&"year"!=t&&(t="year"),"month"==this.type&&"month"!=t&&"year"!=t&&(t="month"),"time"==this.type&&(t="time");var i="",n="<style>",s="<div class='dateContent'><div id='dateContent'><div id='dateContentBox'>",a=this.width/7,r=0;if(n+=e?"":"@keyframes dateContent{from {transform:scale(0.5,0.5);} to {transform:scale(1,1);}}",n+=".dateContent{width: "+this.width+"px;height:"+this.width+"px;overflow: hidden;margin:0px 10px;animation: dateContent 0.5s;}",n+="#dateContent{width: "+(this.width+20)+"px;height:"+(this.width+20)+"px;overflow: scroll;}",n+=".dateTitle{text-align: right;height: 50px; line-height: 50px;overflow: hidden;margin-top:10px;}",n+=".dayTitle{text-align: center;height: "+a+"px; line-height: "+a+"px;overflow: hidden;width:"+a+"px;float:left;}","year"==t){n+=".dateSpan{cursor: pointer;width:"+(a=this.width/5)+"px;height:"+a+"px; text-align:center;line-height:"+a+"px;float:left;overflow: hidden;border-radius :"+a+"px}",i="<div class='dateTitle'><span style='float: left; margin-left: 10px;color:#777777'>"+this.yearRange[0]+"-"+this.yearRange[1]+"</span><span style='margin-right: 10px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;' id='clearBtn'>清空</span></div>";for(var o=this.yearRange[0];o<=this.yearRange[1];o++)s+="<div class='"+(o==this.date.getFullYear()?"dateSpan dateSpanActive":"dateSpan")+" years'>"+o+"</div>"}else if("month"==t){n+=".dateSpan{cursor: pointer;width:"+(a=this.width/5)+"px;height:"+a+"px; text-align:center;line-height:"+a+"px;float:left;overflow: hidden;border-radius :"+a+"px}",i="<div class='dateTitle'><span style='float: left; margin-left: 10px;'><font id='inputYear' title='点击输入年份'>"+this.date.getFullYear()+" 年</font><font id='setYearBtn' style='font-size: 12px; cursor: pointer;color: #b0b0b0;margin-left: 5px;'>< 选择年份</font></span><span style='margin-right: 10px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;' id='clearBtn'>清空</span></div>";for(o=1;o<=12;o++)s+="<div class='"+(o==this.date.getMonth()+1?"dateSpan dateSpanActive":"dateSpan")+" months'>"+o+"月</div>"}else if("time"==t){i="time"==this.type?"<div class='dateTitle'><span style='margin-right: 10px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;' id='clearBtn'>清空</span></div>":"<div class='dateTitle'><span style='float: left; margin-left: 10px;cursor: pointer;' id='setDaysBtn'>"+this.date.getFullYear()+" 年 "+(this.date.getMonth()+1)+" 月 "+this.selectedDate.getDate()+" 日<font style='font-size: 12px; color: #b0b0b0;margin-left: 5px;'>< 选择日期</font></span><span style='margin-right: 10px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;' id='clearBtn'>清空</span></div>";var l="<div class='timeInputs'>",d="<div class='timeSliders'>";for(o=0;o<this.timeType.length;o++)switch(o){case 0:l+="<input type='text' class='timeInput' id='timeHoursInput' value='' />",d+="<div class='timeSlider' id='timeHoursSlider'><div class='timeSliderTitle'>小时</div><div class='timeSliderAction'><div class='timeSliderAction_active'></div><div class='timeSliderAction_block'></div></div><div class='timeSliderMax'>23</div></div>";break;case 1:l+=":<input type='text' class='timeInput' id='timeMinutesInput' value='' />",d+="<div class='timeSlider' id='timeMinutesSlider'><div class='timeSliderTitle'>分钟</div><div class='timeSliderAction'><div class='timeSliderAction_active'></div><div class='timeSliderAction_block'></div></div><div class='timeSliderMax'>59</div></div>";break;case 2:l+=":<input type='text' class='timeInput' id='timeSecondsInput' value='' />",d+="<div class='timeSlider' id='timeSecondsSlider'><div class='timeSliderTitle'>秒</div><div class='timeSliderAction'><div class='timeSliderAction_active'></div><div class='timeSliderAction_block'></div></div><div class='timeSliderMax'>59</div></div>"}s+=(l+="</div>")+(d+="</div>"),s+="<div style='text-align:center;'><span style='border:1px solid #d5d5d5; border-radius: 3px;padding:5px 15px; cursor: pointer;' id='timeOk'>确定</span></div>",n+=".timeInputs{text-align:center;margin-top:40px;margin-bottom:20px;}",n+=".timeInput{width:30px;height:30px;padding:0px 5px;line-height:40px;margin:0px 5px;border:1px solid #dedede;text-align:center;}",n+=".timeSliders{margin-top:30px;margin-bottom:20px;}",n+=".timeSlider{margin:10px auto;width:"+(this.width-80)+"px;height:50px;overflow:hidden;}",n+=".timeSliderTitle{float:left;width:50px;text-align:left;}",n+=".timeSliderAction{float:left;width:"+(r=this.width-80-100)+"px;height:10px;border-radius:2px;background:#e9e9e9;margin-top:6px;}",n+=".timeSliderAction_active{height:10px;border-radius:2px;background:#00a7f5;overflow:hidden;width:0px;}",n+=".timeSliderAction_block{width:18px;height:18px;position:absolute;border-radius:2px;background:#1e8dc1;cursor:pointer;margin-top:-14px;}",n+=".timeSliderMax{float:left;width:50px;text-align:center;}"}else{n+=".dateSpan{cursor: pointer;width:"+a+"px;height:"+a+"px; text-align:center;line-height:"+a+"px;float:left;overflow: hidden;border-radius :"+a+"px}",i="<div class='dateTitle'><span style='float: left; margin-left: 10px;'><font id='inputYear' title='点击输入年份'>"+this.date.getFullYear()+" 年</font><font id='inputMonth' title='点击输入月份'> "+(this.date.getMonth()+1)+" 月</font><font id='setMonthBtn' style='font-size: 12px; cursor: pointer;color: #b0b0b0;margin-left: 5px;'>< 选择月份</font></span><span style='margin-right: 10px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;' id='clearBtn'>清空</span><span id='todayBtn' style='margin-right: 20px; border:1px solid #d5d5d5; border-radius: 3px;padding:3px 5px; cursor: pointer;'>今日</span><span id='prevMonthBtn' style='margin-right: 20px;cursor: pointer;font-size: 20px;'><</span><span id='nextMonthBtn' style='margin-right: 20px;cursor: pointer;font-size: 20px;'>></span></div>",s+="<div><div class='dayTitle'>日</div><div class='dayTitle'>一</div><div class='dayTitle'>二</div><div class='dayTitle'>三</div><div class='dayTitle'>四</div><div class='dayTitle'>五</div><div class='dayTitle'>六</div><div style='clear:both'></div></div>";var h=this.date;h.setDate(1);for(o=0;o<h.getDay();o++)s+="<div class='dateSpan dateSpanNo'> </div>";var c=[31,28,31,30,31,30,31,31,30,31,30,31];c[1]=this.date.getFullYear()%4==0&&this.date.getFullYear()%100!=4||this.date.getFullYear()%400==0?29:28;for(o=1;o<=c[this.date.getMonth()];o++)s+="<div class='"+(o==this.selectedDate.getDate()&&this.selectedDate.getMonth()==this.date.getMonth()&&this.selectedDate.getFullYear()==this.date.getFullYear()?"dateSpan dateSpanActive":"dateSpan")+" days'>"+o+"</div>"}if(s+="<div style='clear:both;'></div>",s+="</div></div></div>",n+=".dateSpan:hover{background:#f4f4f4;}",n+=".dateSpanNo{cursor: default;}",n+=".dateSpanNo:hover{background:#fff;}",n+=".dateSpanActive{background:#00b7ee;color:#fff;}",n+=".dateSpanActive:hover{background:#328dd8;}",n+="</style>",$("#"+this.id).html(i+s+n),"year"==t&&$("#dateContent").scrollTop(($("#dateContentBox").height()-$("#dateContent").height())*((this.date.getFullYear()-this.yearRange[0])/(this.yearRange[1]-this.yearRange[0]))),$(".years").click(function(){f.date.setFullYear($(this).html()),f.show("month","year"==f.type),"year"==f.type&&f.action&&f.action(f.toString())}),$(".months").click(function(){f.date.setMonth($(this).html().replace("月","")-1),f.show("","month"==f.type),"month"==f.type&&f.action&&f.action(f.toString())}),$(".days").click(function(){f.selectedDate.setFullYear(f.date.getFullYear(),f.date.getMonth(),$(this).html()),0<f.timeType.length?f.show("time",!1):(f.show("",!0),f.action&&f.action(f.toString()))}),$("#inputYear").click(function(){var t=f.date.getFullYear();k.confirmx('<input type="text" id="inputData" style="border:1px solid #e4e4e4;padding:5px;" maxlength="4" value="'+t+'" /><div style="display:none;color:#ff0000;" id="inputDataErr">输入错误,必须为'+f.yearRange[0]+"-"+f.yearRange[1]+"之间的整数</div>",function(){var t=parseInt($("#inputData").val());f.date.setFullYear(t),f.selectedDate.setFullYear(t),$("#inputYear").html(t+" 年")},{_h:170,title:"输入年份",verifyFn:function(){var t=parseInt($("#inputData").val());if($("#inputDataErr").hide(),t>=f.yearRange[0]&&t<=f.yearRange[1])return!0;$("#inputDataErr").show()}})}),$("#inputMonth").click(function(){var t=f.date.getMonth()+1;k.confirmx('<input type="text" id="inputData" style="border:1px solid #e4e4e4;padding:5px;" maxlength="2" value="'+t+'" /><div style="display:none;color:#ff0000;" id="inputDataErr">输入错误,必须为1-12之间的整数</div>',function(){var t=parseInt($("#inputData").val())-1;f.date.setMonth(t),f.selectedDate.setMonth(t),$("#inputMonth").html(t+1+" 月")},{_h:170,title:"输入月份",verifyFn:function(){var t=parseInt($("#inputData").val())-1;if($("#inputDataErr").hide(),0<=t&&t<=11)return!0;$("#inputDataErr").show()}})}),$("#setMonthBtn").click(function(){f.show("month")}),$("#setYearBtn").click(function(){f.show("year")}),$("#setDaysBtn").click(function(){f.show("")}),$("#timeOk").click(function(){f.action&&f.action(f.toString())}),$("#clearBtn").click(function(){f.action&&f.action("")}),$("#todayBtn").click(function(){var t=new Date;f.date.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),f.selectedDate.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),f.show(),f.action&&f.action(f.toString())}),$("#prevMonthBtn").click(function(){var t=f.date.getFullYear(),e=f.date.getMonth();0==e?t==f.yearRange[0]?k.log("不能超过最低年限"):(t--,e=11):e--,f.date.setFullYear(t,e),f.show("",!0)}),$("#nextMonthBtn").click(function(){var t=f.date.getFullYear(),e=f.date.getMonth();11==e?t==f.yearRange[1]?k.log("不能超过最高年限"):(t++,e=0):e++,f.date.setFullYear(t,e),f.show("",!0)}),0<f.timeType.length)for(o=0;o<f.timeType.length;o++)u(o+1),p(o+1);function p(a){var o=23,t="",e="";switch(a){case 1:t="timeHoursInput",e="timeHoursSlider";break;case 2:o=59,t="timeMinutesInput",e="timeMinutesSlider";break;case 3:o=59,t="timeSecondsInput",e="timeSecondsSlider"}$("#"+t).keydown(function(){var e=$(this).val();$(this).bind("keyup",function(){var t=parseInt($(this).val()||0);/\d/.test(t)&&0<=t&&t<=o?f.timeType[a-1]=t:f.timeType[a-1]=e,u(a),$(this).unbind("keyup")})}),$("#"+e+" .timeSliderAction_block").mousedown(function(t){var n=$("#"+e+" .timeSliderAction_active").width(),s=t.clientX;function i(t){var e=n+(t.clientX-s);e=(e=r<e?r:e)<0?0:e;var i=Math.ceil(e/r*o);f.timeType[a-1]=i,u(a)}$("body").addClass("unSelect"),$(window).bind("mousemove",i),$(window).bind("mouseup",function t(e){$("body").removeClass("unSelect");$(window).unbind("mousemove",i);$(window).unbind("mouseup",t)})})}function u(t){f.timeType[t-1]=9<f.timeType[t-1]?parseInt(f.timeType[t-1]):"0"+parseInt(f.timeType[t-1]);var e=0,i="",n="";switch(t){case 1:e=f.timeType[0]/24*r,i="timeHoursInput",n="timeHoursSlider";break;case 2:e=f.timeType[1]/60*r,i="timeMinutesInput",n="timeMinutesSlider";break;case 3:e=f.timeType[2]/60*r,i="timeSecondsInput",n="timeSecondsSlider"}$("#"+i).val(f.timeType[t-1]),$("#"+n+" .timeSliderAction_active").width(e),$("#"+n+" .timeSliderAction_block").css("margin-left",e-9+"px")}},this.close=function(){k.Calendar.isShow=!1,$("#"+this.id+"_cover").remove(),$("#"+this.id).remove()}},k.Calendar.isShow=!1,k.Area=function(t){var n=t.obj,s=t.type||3,e=t.lineNum,a=this;this.id=(new Date).only(),this.load=function(){var t=document.createElement("script");t.type="text/javascript",t.src="js/AreaData.js",document.body.appendChild(t),t.onload=function(){}},window.AreaData||this.load(),this.flog=0,this.province=null,this.town=null,this.district=null,this.value="",this.setData=function(t){var e="<span style='padding:3px 15px;border:1px solid #e4e4e4;margin-left:10px;cursor:pointer;'>"+(this.province?AreaData[this.province][0]:"选择省")+"</span>";3==this.flog?(e+="<span style='padding:3px 15px;border:1px solid #e4e4e4;margin-left:10px;cursor:pointer;'>"+(this.town?AreaData[this.town][0]:"选择市")+"</span>",e+="<span style='padding:3px 15px;border:1px solid #e4e4e4;margin-left:10px;cursor:pointer;'>"+(this.district?AreaData[this.district][0]:"选择区")+"</span>"):2==this.flog&&(e+="<span style='padding:3px 15px;border:1px solid #e4e4e4;margin-left:10px;cursor:pointer;'>"+(this.town?AreaData[this.town][0]:"选择市")+"</span>"),$("#areaSpan"+this.id).find("div").html(e),$("#areaSpan"+this.id).find("span").eq(a.flog-1).css({background:"#00b7ee",color:"#fff"}),$("#areaSpan"+this.id).find("span").eq(0).click(function(){a.town=null,a.district=null,a.flog=1,a.setData(1)}),$("#areaSpan"+this.id).find("span").eq(1).click(function(){a.district=null,a.flog=2,a.setData(a.town)});var i="";for(var n in AreaData)AreaData[n][1]==t&&(i+="<div style='width:100px;line-height:30px;height:30px;overflow:hidden;border:1px solid #fff;overflow:hidden;float:left;cursor:pointer;' vaule='"+n+"' title='"+AreaData[n][0]+"'>"+AreaData[n][0]+"</div>");i+="<div class='clear'></div>",$("#areaContent"+this.id).html(i),$("#areaContent"+this.id).find("div").each(function(t){$(this).mouseover(function(){$(this).css("color","#ff0000")}),$(this).mouseout(function(){$(this).css("color","#666")}),$(this).click(function(){var t=$(this).attr("vaule");switch(a.flog){case 1:a.province=t,2<=s?(a.flog++,a.town=null,a.district=null,a.setData(t)):a.toString();break;case 2:a.town=t,3<=s?(a.flog++,a.district=null,a.setData(t)):a.toString();break;case 3:a.district=t,a.toString()}})})},this.val=function(t){if(!t)return n.val();n.val(t)},this.toString=function(){var t="";this.province&&(t+=AreaData[this.province][0]),this.town&&(t+=AreaData[this.town][0]),this.district&&(t+=AreaData[this.district][0]),n.val(t),this.close()},e=!e||e<4?4:e,this.width=100*e+40,this.height=200,this.open=function(t){k.creatCover({id:this.id+"_cover",obj:window,zIndex:k.zIndex(4),opacity:0,background:"#ffffff",position:"fixed",unScroll0:!0});var e="<div id='areaBox"+this.id+"' style='border:1px solid #ccc;overflow:hidden;width:"+this.width+"px;background:#fff;position:absolute;left:"+n.offset().left+"px;top:"+(n.offset().top+n.height())+"px;z-index:"+k.zIndex(4)+";'>";e+="<div id='areaSpan"+this.id+"' style='border-bottom:1px solid #e4e4e4;line-height:40px;overflow:hidden;height:40px;text-align:right;'><div style='float:left;'>",e+="</div><font style='padding:2px 7px; border:1px solid #e4e4e4;cursor:pointer;margin-right:10px;' id='reset"+this.id+"'>清空</font><span id='close"+this.id+"' style='margin-right:10px;cursor:pointer;'>X</span></div>",e+="<div id='areaContent"+this.id+"' style='overflow:auto;height:"+(this.height-40)+"px;margin-left:10px;padding-top:10px;padding-bottom:10px;'></div>",e+="</div>",$("body").append(e),$("#close"+this.id+",#"+this.id+"_cover").click(function(){a.close()}),$("#reset"+this.id).click(function(){a.close(),a.toString()}),this.flog=this.district?3:this.town?2:1;var i=this.district?this.town:this.province?this.province:1;this.setData(i.toString())},this.close=function(){$("#"+this.id+"_cover").remove(),$("#areaBox"+this.id).remove(),n.prev(".data_error").hide(),a.province=void 0,a.town=void 0,a.district=void 0},n.focus(function(){n.prev(".data_error").hide(),a.close(),a.open(this.value)})},k.Radio=function(t,e){e=e||{},this.objs=t,this.activeObj=t[0];var i=this;this.changeFn=e.changeFn||"";var n=!1;this.setReadOnly=function(t){n=t,this.objs.each(function(){$(this).attr("readonly","readonly")})},this.objs.click(function(){if(n)return!1;i.activeObj=$(this)[0],i.show()}),this.show=function(){this.objs.each(function(){$(this)[0].checked=i.activeObj.value==$(this)[0].value}),this.changeFn&&this.changeFn(this.val())},this.val=function(t){if(null==t)return $(this.activeObj).val();this.objs.each(function(){$(this).val()==t&&(i.activeObj=$(this)[0],i.show())})},this.show()},k.Checkbox=function(a,o){this.setReadOnly=function(t){t;for(var e=0;e<a.length;e++)a[e].attr("readonly","readonly")},this.val=function(t){if(null==t){for(var e=[],i=0;i<a.length;i++)a[i].checked&&e.push(a[i].value);return o?e:e.join(",")}var n=o?t:t.split(",");for(i=0;i<n.length;i++)for(var s=0;s<a.length;s++)a[s].value==n[i]&&(a[s].checked=!0)}},k.download=function(t,e){var i=(e=e||{}).meth?e.meth:"",n=e.endTime?e.endTime:1e4,s=e.endFn?e.endFn:"";if("iframe"==i){var a="downIframe"+(new Date).only();$("body").append("<iframe class='downIframe' id='"+a+"' style='display: none;' src='"+t+"'></iframe>"),setTimeout(function(){$("#"+a).remove(),s&&s(a)},n)}else window.open(t,"_blank"),s&&s()},k.Windows=function(t){t=t||{},this.id="Windows"+(new Date).only(),this.width=t.width||500,this.height=t.height||300,this.title=t.title||"新建弹窗",this.content=t.content||"",this.bottom=t.bottom||"",this.closeBtn=0!=t.closeBtn,this.cover=0!=t.cover,this.coverArgs=t.coverArgs||{},this.coverClose=t.coverClose||!1,this.cancleFn=t.cancleFn||"",this.style=t.style||"",this.styles=t.styles||{},this.drag=0!=t.drag,this.titleHeight=0<=t.titleHeight?t.titleHeight:30,this.bottomHeight=0<=t.bottomHeight?t.bottomHeight:40;var a=this;this.open=function(){this.width>$(window).width()&&(this.width=$(window).width()),this.height>$(window).height()&&(this.height=$(window).height());var t=$(window).scrollTop();this.cover&&k.creatCover({id:this.id+"_cover",obj:window,zIndex:k.zIndex(4),opacity:null==this.coverArgs.opacity?.5:this.coverArgs.opacity,background:this.coverArgs.background||"#000000",position:"fixed"});var e="<div id='"+this.id+"_top'><b id='"+this.id+"_top_title'>"+this.title+"</b>"+(this.closeBtn?"<span id='"+this.id+"_close'>X</span>":"")+"</div>",i="<div id='"+this.id+"_center'><div id='"+this.id+"_content'>"+this.content+"</div></div>",n=this.bottom?"<div id='"+this.id+"_bottom'>"+this.bottom+"</div>":"",s="<style>";s+="#"+this.id+"{border:1px solid #e4e4e4;border-radius:3px;width:"+this.width+"px;background:#fff;position: fixed;z-index:"+k.zIndex(4)+"; left:"+($(window).width()-this.width)/2+"px;top:"+($(window).height()-this.height)/2+"px;"+(this.styles&&this.styles.box?this.styles.box:"")+"}",s+="#"+this.id+"_top{overflow:hidden;height:"+this.titleHeight+"px; text-align: right;line-height: "+this.titleHeight+"px; background:#f9f9f9;"+(this.styles&&this.styles.top?this.styles.top:"")+"}",s+="#"+this.id+"_top_title{float: left;margin-left:10px;"+(this.styles&&this.styles.top_title?this.styles.top_title:"")+"}",s+="#"+this.id+"_close{margin-right: 10px;cursor: pointer; font-family: Arial;"+(this.styles&&this.styles.close?this.styles.close:"")+"}",s+="#"+this.id+"_center{border-top:1px solid #e4e4e4;"+(this.styles&&this.styles.center?this.styles.center:"")+"}",s+="#"+this.id+"_content{height:"+(this.height-this.titleHeight-this.bottomHeight-12)+"px;overflow:auto;"+(this.styles&&this.styles.content?this.styles.content:"")+"}",s+="#"+this.id+"_bottom{border-top:1px dashed #e4e4e4;height:"+this.bottomHeight+"px;overflow: hidden;"+(this.styles&&this.styles.bottom?this.styles.bottom:"")+"}",s+=this.style?this.style.replaceAll("{this_id}",this.id):"",s+="</style>",$("body").append("<div class='boxShadow' id='"+this.id+"'>"+e+i+n+s+"</div>"),$(window).scrollTop(t),this.bodyScrollNo&&($("body").attr("scroll","no"),$("body").css("overflow","hidden")),$("#"+this.id+"_close").click(function(){a.close()}),this.coverClose&&$("#"+this.id+"_cover").click(function(){a.close()}),this.drag&&k.Drag({obj:$("#"+this.id+"_top"),target:$("#"+this.id)})},this.close=function(t){this.cancleFn&&this.cancleFn(t),$("#"+this.id).remove(),$("#"+this.id+"_cover").remove(),this.bodyScrollNo&&($("body").removeAttr("scroll"),$("body").css("overflow","visible"))}},k.Drag=function(t){var e=(t=t||{}).obj,n=t.target;e.css({cursor:"move"});var s=0,a=0,o=0,r=0,l=$(window).width(),d=$(window).height(),h=n.width(),c=n.height();function i(t){var e=o+(t.clientX-s),i=r+(t.clientY-a);e=e<0?0:l-h<e?l-h:e,i=i<0?0:d-c<i?d-c:i,n.css({left:e+"px",top:i+"px"})}function p(t){$("body").removeClass("unSelect"),$(window).unbind("mousemove",i),$(window).unbind("mouseup",p)}e.bind("mousedown",function(t){s=t.clientX,a=t.clientY,o=n.offset().left,r=n.offset().top,$("body").addClass("unSelect"),$(window).bind("mousemove",i),$(window).bind("mouseup",p)})},k.MouseOverShow=function(n,s,a){a=a||{};var o=this,r=(new Date).only();function l(){s.mouseover(function(){clearTimeout(o.timer)}),s.mouseout(function(){o.timer=setTimeout(function(){a.string?(s.remove(),s=""):s.hide(),o.timer=""},300)})}n.mouseover(function(){if(o.timer)clearTimeout(o.timer);else if(a.string){var t=n.offset().top+n.height()+8,e=n.offset().left,i="position:absolute;left:"+e+"px;top:"+t+"px;border-radius:5px;width:180px;padding:16px 0px 16px 16px;background:#000;color:#fff;line-height:24px;background:#000;color:#fff;z-index:"+k.zIndex(4);s='<div class="mouseOverShow" id="mouseOverShow'+r+'" style="'+i+(a.style||"")+'">'+a.string+"</div>",$("body").append(s),a.init&&a.init(r),(s=$("#mouseOverShow"+r)).height()+t>$(window).height()&&s.css({top:"auto",bottom:"0px"}),s.width()+e>$(window).width()&&s.css({left:"auto",right:"0px"}),l()}else s.show()}),n.mouseout(function(){o.timer=setTimeout(function(){a.string?(s.remove(),s=""):s.hide(),o.timer=""},300)}),s&&l()},k.ColorPicker=function(t,e,i){i=i||{};var n=this;this.id=(new Date).only(),this.colors=i.colors||["#ff3333","#ff33cc","#3333ff","#339933","#cccc33","#ff9933","#000000","#333333","#666666","#999999","#cccccc","#ffffff"];for(var s="",a=0;a<this.colors.length;a++)s+='<div class="pickerColors" title="'+this.colors[a]+'" style="border:1px solid #fff;margin:0px 8px 8px 0px;width:18px;height:18px;float:left;background-color:'+this.colors[a]+'"></div>';var o=i.clear||'<span id="clear'+this.id+'" style="cursor:pointer;margin-right:16px;font-size:12px;">清空</span>';new k.MouseOverShow(t,"",{string:'<div style="max-width:180px;" id="colorpicker'+this.id+'">'+s+'<div style="clear:both;"></div><div style="text-align:right;">'+o+"</div></div>",init:function(t){$("#colorpicker"+n.id).find(".pickerColors").each(function(t){$(this).click(function(){e(n.colors[t])})}),$("#clear"+n.id).click(function(){e("")})},style:i.style+";padding-bottom:8px;"})},k.JSONP=function(t,e){var i=(new Date).only();window["JSONP"+i]=function(t){try{t=JSON.parse(t)}catch(t){}e(t),$("#JSONP"+i).remove(),window["JSONP"+i]=null},t+=(-1<t.indexOf("?")?"&":"?")+"callback=JSONP"+i,$("body").append('<div id="JSONP'+i+'"><script type="text/javascript" src="'+t+'"><\/script></div>')},k.Imgedit=function(d,h,c,p,t){var u=this;if(this.title="图片编辑器",this.data="",this.dataBlob="",this.width=d,this.height=h,this.maxHeight=$(window).height()-270,this.radius=p||0,this.scale=c,this.img="",this.imgString="",this.imgSize=[],this.imgMove=[0,0],this.compress=.92,this.canvas="",this.canvasObj="",this.canvasImg="",this.canvasImgObj="",this.mimeType="jpeg",this.loading=new k.loading({opacity:0}),this.show=function(){if(this.img){var t=this.imgSize[0]*this.imgSize[2]/100,e=this.imgSize[1]*this.imgSize[2]/100;this.canvasObj.width=1e3,this.canvasImgObj.width=this.width,this.canvasImgObj.height=this.height,-1<"|jpg|jpeg|bmp|".indexOf(this.mimeType)&&(this.canvasImg.fillStyle="#ffffff",this.canvasImg.fillRect(0,0,this.width,this.height));var i=[[this.radius,0],[0,0],[0,this.radius]];this.canvasImg.moveTo(i[0][0],i[0][1]),this.canvasImg.arcTo(i[1][0],i[1][1],i[2][0],i[2][1],this.radius),i=[[0,this.height-this.radius],[0,this.height],[this.radius,this.height]],this.canvasImg.lineTo(i[0][0],i[0][1]),this.canvasImg.arcTo(i[1][0],i[1][1],i[2][0],i[2][1],this.radius),i=[[this.width-this.radius,this.height],[this.width,this.height],[this.width,this.height-this.radius]],this.canvasImg.lineTo(i[0][0],i[0][1]),this.canvasImg.arcTo(i[1][0],i[1][1],i[2][0],i[2][1],this.radius),i=[[this.width,this.radius],[this.width,0],[this.width-this.radius,0]],this.canvasImg.lineTo(i[0][0],i[0][1]),this.canvasImg.arcTo(i[1][0],i[1][1],i[2][0],i[2][1],this.radius),this.canvasImg.closePath(),this.canvasImg.clip(),this.canvasImg.drawImage(this.img,(this.width-t)/2+this.imgMove[0],(this.height-e)/2+this.imgMove[1],t,e),this.canvas.moveTo(0,0),this.canvas.lineTo(1e3,0),this.canvas.lineTo(1e3,this.maxHeight),this.canvas.lineTo(0,this.maxHeight),this.canvas.closePath();var n=k.setImgSize({_w:1e3,_h:this.maxHeight,w:this.width,h:this.height});this.canvas.moveTo(n[3],n[2]),this.canvas.lineTo(n[3],n[2]+n[1]),this.canvas.lineTo(n[3]+n[0],n[2]+n[1]),this.canvas.lineTo(n[3]+n[0],n[2]),this.canvas.closePath(),this.canvas.fillStyle="rgba(0,0,0,1)",this.canvas.fill(),this.canvas.drawImage(this.canvasImgObj,n[3],n[2],n[0],n[1]),this.data=this.canvasImgObj.toDataURL("image/"+this.mimeType,this.compress),this.dataBlob=k.dataURLtoBlob(this.data);var s=k.fileSize(this.dataBlob.size),a=this.maxSize&&this.maxSize<this.dataBlob.size?"<font style='color:#ff0000;margin-left:5px;'>过大</font>":"";$("#compress_slipText").html("("+k.fileSize(this.dataBlob.size)+a+")"),$("#imgEditBoxImg").attr("title",this.width+"*"+this.height+"  "+s)}},this.prevView=function(t){var e=new Image;e.onload=function(){var t=k.setImgSize({_w:1e3,_h:u.maxHeight,w:u.width,h:u.height});u.canvas.drawImage(e,t[3],t[2],t[0],t[1])},e.src=this.data},this.Slip=function(e,t,i,n,s){var a=this,o=0,r=t.width(),l=100,d=l,h=r/l;function c(t){var e=t.clientX-o;l=(l=100<(l=Math.ceil(e/h)+d)?100:l)<0?0:l,a.set()}function p(t){$("body").removeClass("unSelect"),$(window).unbind("mousemove",c),$(window).unbind("mouseup",p),a.set(),s&&s()}e.bind("mousedown",function(t){d=l,o=t.clientX,$("body").addClass("unSelect"),$(window).bind("mousemove",c),$(window).bind("mouseup",p)}),this.set=function(t){l=t||l,e.css("margin-left",l+"%"),i.html(l+"%"),n(l)}},this.imgSlip="",this.compressSlip="",this.editType={scale:!0,width:!0,height:!0,radius:!0,imgSlip:!0,compressSlip:!0,mimeType:!0,recom:!0},t)for(var e in t)this.editType[e]=t[e];this.open=function(t,i){u.loading.open&&u.loading.open(),u.imgString=k.getBlobURL(t),this.yuantu=!1,u.img=new Image,u.img.onload=function(){u.loading.close&&u.loading.close(),c||(u.editType.scale=!1,d&&u.editType.width&&h&&u.editType.height&&(u.editType.width=!1,u.editType.height=!1));var t=1920;t=(u.img=this).width>t?t:this.width,d=d||t,u.width=d;var l=this.width<=d?100:d/this.width*100;u.imgSize=[this.width,this.height,this.width<d?100:l],h=h||parseInt(this.height*l/100),u.height=h,u.radius=p||0,u.radius=u.radius>=u.width/2||u.radius>=u.height/2?Math.min(u.width,u.height)/2:u.radius,u.canvasObj=document.createElement("canvas"),u.canvasObj.width=this.width,u.canvasObj.height=u.maxHeight,u.canvasImgObj=document.createElement("canvas"),u.canvasImgObj.width=u.width,u.canvasImgObj.height=u.height,u.canvas=u.canvasObj.getContext("2d"),u.canvasImg=u.canvasImgObj.getContext("2d"),u.html="<div class='imgEditBox'>",u.html+="<div class='imgEditBoxImg' id='imgEditBoxImg'></div>",u.html+="<div class='imgEditBoxEdit'>",u.html+="<div class='imgEditBoxEdit_size'>";var e=u.editType.scale?"<font style='color:#3ec0ef;'>(比例 "+c[0]+":"+c[1]+")</font>":"";e=u.editType.scale?"<input type='checkbox' checked"+(u.editType.scale?"":" disabled='true'")+" id='imgEditCheck' />固定比例"+e:"",u.html+="<div class='imgEditBoxEdit_size_check'>"+e+"</div>",u.html+="<div class='imgEditBoxEdit_size_css'>宽度(px):<input type='text'"+(u.editType.width?"":" disabled='true'")+" id='imgEditSetWidth' value='"+d+"' />"+(u.editType.width?"<font style='color:#c4c4c4;font-size:12px;'>最大"+d+"</font>":"")+"</div>",u.html+="<div class='imgEditBoxEdit_size_css'>高度(px):<input type='text'"+(u.editType.height?"":" disabled='true'")+" id='imgEditSetHeight' value='"+u.height+"' />"+(u.editType.height?"<font style='color:#c4c4c4;font-size:12px;'>最大"+u.height+"</font>":"")+"</div>",u.html+="<div class='imgEditBoxEdit_size_css'>圆角(px):<input type='text'"+(u.editType.radius?"":" disabled='true'")+" id='imgEditSetRadius' value='"+(u.radius?u.radius:0)+"' /></div>",u.html+="</div>",u.html+="<div class='imgEditBoxEdit_scale'>",u.html+="<div class='imgEditBoxEdit_slipBox'>",u.html+="<div class='imgEditBoxEdit_slipBox_name'>原图压缩:</div>",u.html+="<div class='imgEditBoxEdit_slipBox_slip'><div class='imgEditBoxEdit_slipBox_slip_bg' id='img_slipClick'><div class='imgEditBoxEdit_slipBox_slip_n' id='img_slipMove'><div class='imgEditBoxEdit_slipBox_slip_n_t'><font id='img_slipPre' style='color:#3ec0ef;'>100%</font><font style='color:#ECECEC;font-size:12px;' id='img_slipText'>(1500*1200)</font></div><div class='imgEditBoxEdit_slipBox_slip_n_c'></div></div></div><div class='imgEditBoxEdit_slipBox_slip_p'><div style='width:20px;float:left;overflow:hidden;'>0%</div><div style='text-align:right;width:320px;float:right;'><div style='width:270px;float:left;text-align:center;'><span style='margin-left:25px;'>50%</span></div><div style='width:50px;float:right;text-align:right;overflow:hidden;'>100%</div></div></div></div>",u.html+="<div class='clear'></div>",u.html+="</div>",u.html+="<div class='imgEditBoxEdit_slipBox'>",u.html+="<div class='imgEditBoxEdit_slipBox_name'>质　　量:</div>",u.html+="<div class='imgEditBoxEdit_slipBox_slip'><div class='imgEditBoxEdit_slipBox_slip_bg' id='compress_slipClick'><div class='imgEditBoxEdit_slipBox_slip_n' id='compress_slipMove'><div class='imgEditBoxEdit_slipBox_slip_n_t'><font id='compress_slipPre' style='color:#3ec0ef;'>100%</font><font style='color:#cbcaca;font-size:12px;' id='compress_slipText'>(质量越高,图片越大)</font></div><div class='imgEditBoxEdit_slipBox_slip_n_c'></div></div></div><div class='imgEditBoxEdit_slipBox_slip_p'><div style='width:20px;float:left;overflow:hidden;'>0%</div><div style='text-align:right;width:320px;float:right;'><div style='width:270px;float:left;text-align:center;'><span style='margin-left:25px;'>50%</span></div><div style='width:50px;float:right;text-align:right;overflow:hidden;'>100%</div></div></div></div>",u.html+="<div class='clear'></div>",u.html+="</div>",u.html+="</div>",u.html+="<div class='imgEditBoxEdit_recom'><div id='imgEditRecom'>推荐<br />设置</div></div>",u.html+="<div class='clear'></div>",u.html+="</div>",u.html+="<div style='position:absolute;margin-left:45px;'><input type='checkbox' id='checkMimeType' />背景透明<span style='font-size:12px;color:#c4c4c4;'>-说明:设置为背景透明图片保存为PNG格式质量高占用空间大，不透明保存为JPEG格式，质量可调节</span><font style='color:#ff0000;margin-left:70px;'>使用原图</font><input type='checkbox' id='yuantu' /></div>",u.html+="<style>",u.html+=".imgEditBox{line-height:40px;}",u.html+=".imgEditBoxImg{background:#fff;height:"+u.maxHeight+"px;overflow:hidden;cursor:move;}",u.html+=".imgEditBoxEdit{text-align:left;height:180px;overflow:hidden;}",u.html+=".imgEditBoxEdit_size{width:300px;float:left;}",u.html+=".imgEditBoxEdit_scale{width:470px;float:left;margin-top:20px;}",u.html+=".imgEditBoxEdit_recom{width:150px;float:left;margin-left:30px;}",u.html+=".imgEditBoxEdit_size_check{margin-left:110px;margin-top:10px;height:40px;}",u.html+=".imgEditBoxEdit_size_css{margin-left:50px;}",u.html+=".imgEditBoxEdit_size_css input{ width:100px;height:30px;line-height:30px;padding:0px 5px;margin:0px 5px;border:1px solid #dcdcdc;}",u.html+=".imgEditBoxEdit_size_css input:hover{border-color:#3ec0ef;}",u.html+="#imgEditRecom{width:123px;padding:35px 0px;border-radius:5px;line-height:20px;text-align:center;border:1px solid #eae9e9;margin-top:45px;cursor:pointer;background:#fdfdfd;}",u.html+="#imgEditRecom:hover{background:#fff;}",u.html+=".imgEditBoxEdit_slipBox{height:70px;margin-top:10px;}",u.html+=".imgEditBoxEdit_slipBox_name{width:70px;float:left;line-height:70px;}",u.html+=".imgEditBoxEdit_slipBox_slip{width:320px;float:left;font-family:Arial;}",u.html+=".imgEditBoxEdit_slipBox_slip_n{margin-left:100%;}",u.html+=".imgEditBoxEdit_slipBox_slip_n_t{line-height:16px;position:absolute;margin-top:-18px;}",u.html+=".imgEditBoxEdit_slipBox_slip_n_c{width:12px;height:24px;background:#3ec0ef;cursor:pointer;}",u.html+=".imgEditBoxEdit_slipBox_slip_bg{background:url('images/imgEditLine.jpg') left 7px repeat-x;margin-top:23px;}",u.html+=".imgEditBoxEdit_slipBox_slip_p{line-height:20px;width:340px;font-size:12px;}",u.html+="</style>",u.html+="</div>",k.confirmx(u.html,function(){i(!1===u.yuantu&&u.data)},{title:u.title,_w:1e3,_h:u.maxHeight+262,bodyScrollNo:!0,initFn:function(){var t=0;$("#yuantu").change(function(){u.yuantu=this.checked}),$("#imgEditCheck").change(function(){if(!u.editType.scale)return!1;this.checked?(u.scale=c,1==t?(u.height=u.scale[0]/u.scale[1]*u.width,$("#imgEditSetHeight").val(u.height)):2==t&&(u.width=u.scale[1]/u.scale[0]*u.height,$("#imgEditSetWidth").val(u.height)),(u.radius>=u.height||u.radius>=u.width)&&(u.radius=Math.min(u.width,u.height)/2,$("#imgEditSetRadius").val(u.radius))):u.scale="",u.show(),u.prevView()}),$("#imgEditSetWidth").keyup(function(){if(!u.editType.width)return!1;t=1,0<=this.value&&this.value<=d?(u.width=- -this.value,u.height=u.scale?u.scale[1]/u.scale[0]*u.width:u.height,(u.radius>=u.height||u.radius>=u.width)&&(u.radius=Math.min(u.width,u.height)/2,$("#imgEditSetRadius").val(u.radius)),$("#imgEditSetHeight").val(u.height)):this.value=u.width,u.show(),u.prevView()}),$("#imgEditSetHeight").keyup(function(){if(!u.editType.height)return!1;t=2,0<=this.value&&this.value<=h?(u.height=- -this.value,u.width=u.scale?u.scale[0]/u.scale[1]*u.height:u.width,(u.radius>=u.height||u.radius>=u.width)&&(u.radius=Math.min(u.width,u.height)/2,$("#imgEditSetRadius").val(u.radius)),$("#imgEditSetWidth").val(u.width)):this.value=u.height,u.show(),u.prevView()}),$("#imgEditSetRadius").keyup(function(){if(!u.editType.radius)return!1;0<=this.value?u.radius=this.value>=u.width/2||this.value>=u.height/2?Math.min(u.width,u.height)/2:- -this.value:this.value=u.radius,u.show(),u.prevView()}),u.imgSlip=new u.Slip($("#img_slipMove"),$("#img_slipClick"),$("#img_slipPre"),function(t){u.imgSize[2]=t,$("#img_slipText").html("("+Math.ceil(u.imgSize[0]*t/100)+"*"+Math.ceil(u.imgSize[1]*t/100)+")"),u.show()},function(){u.prevView()}),u.compressSlip=new u.Slip($("#compress_slipMove"),$("#compress_slipClick"),$("#compress_slipPre"),function(t){u.compress=t/100,u.show()},function(){u.prevView()}),$("#checkMimeType").change(function(){this.checked?(u.mimeType="png",$("#imgEditBoxImg").css("background","url('images/imgEditBg.jpg')")):(u.mimeType="jpeg",$("#imgEditBoxImg").css("background","#fff")),u.show(),u.prevView()}),$("#imgEditRecom").click(function(){u.width=d,$("#imgEditSetWidth").val(u.width),u.radius=p||0,$("#imgEditSetRadius").val(u.radius),u.imgMove=[0,0],u.compressSlip.set(92);var t=u.imgSize[0]<=d?100:d/u.imgSize[0]*100;u.height=h,$("#imgEditSetHeight").val(u.height),u.imgSize[2]=t,u.imgSlip.set(t),u.prevView()}),$("#imgEditBoxImg").append(u.canvasObj);var n=0,s=0,a=0,o=0;function e(t){var e=t.clientX-n,i=t.clientY-s;u.imgMove=[a+e,o+i],u.show()}function i(t){$("body").removeClass("unSelect"),$(window).unbind("mousemove",e),$(window).unbind("mouseup",i),u.prevView()}function r(t){switch(t.which){case 38:u.imgMove[1]--;break;case 40:u.imgMove[1]++;break;case 37:u.imgMove[0]--;break;case 39:u.imgMove[0]++}u.show()}$("#imgEditBoxImg").bind("mousedown",function(t){n=t.clientX,s=t.clientY,a=u.imgMove[0],o=u.imgMove[1],$("body").addClass("unSelect"),$(window).bind("mousemove",e),$(window).bind("mouseup",i),$(window).bind("keydown",r)}),$("#imgEditBoxImg").bind("mouseout",function(){$(window).unbind("keydown",r)}),u.imgSlip.set(l),u.compressSlip.set(100*u.compress),u.prevView()}})},u.img.src=u.imgString}},k.formSubmit=function(s,a,o){o=o||{},window.iframeUrl=window.iframeUrl||"iframe.html",o.noBtns=o.noBtns||!0,o.cancleFn=function(){window._fromUpladFn=null},window._fromUpladFn=function(t){if(t)a(t),window._fromUpladFn=null,r&&r.close&&r.close();else{var e=$("#uploadIframe")[0].contentWindow,i="<form enctype='multipart/form-data' action='"+s+"' method='"+(o.meth?o.meth:"POST")+"' style='text-align:center;' id='uploadData'>";if(o.form&&(i+=o.form),o.formDataAppend)for(var n in o.formDataAppend)i+="<input type='hidden' id='"+n+"' value='"+o.formDataAppend[n]+"' name='"+n+"' />";i+="<input type='hidden' id='returnUrl' value='' name='returnUrl' />",i+="<div style='text-align:right;'><input value='确定' id='submit' style='margin-top:10px;border:none;background:#00b7ee;color:#fff;padding:3px 13px;cursor:pointer;' type='submit' /></div>",i+="</form>",e.formSubmit(i,{initFn:function(){o.formInitFn&&o.formInitFn(e,$("#submit",e.document),$("#uploadData",e.document))}})}};var r=k.confirmx("<iframe width='90%' src='"+iframeUrl+"?_="+(new Date).only()+"' scrolling='no' height='100' frameborder='0' border='0' marginwidth='0' marginheight='0' id='uploadIframe'></iframe>",function(){},o)},k.upload=function(v,x,y){var t=(y=y||{}).multiple?y.multiple:"",w=y.timesFn?y.timesFn:"",l=null!=y.maxSize?y.maxSize:10485760,b=y.header?y.header:[];if(y.Blob)return e(y.Blob,y.BlobMime),!1;if(0<$("#upLoadInput").size()&&$("#upLoadInput").remove(),window.ActiveXObject||"ActiveXObject"in window)return y.canIframe?(y.meth="POST",y.form="<div style='height:60px;'><div><input id='file' type='file' name='file' style='margin-top:25px;' /></div></div>",y.noCover=!0,y.title="上传文件",y.formInitFn=function(t,e,i){e.click(function(){if(""==$("#file",t.document).val())return k.alertx("请选择上传文件"),!1;e.hide(),setTimeout(function(){i.html("<div style='line-height:100px;'>上传中...请稍后</div>")},100),y.timesFn&&y.timesFn(iframeContent)})},k.formSubmit(v,x,y)):k.alertx("不支持的浏览器<br />请使用最新的谷歌或火狐浏览器"),!1;function e(g,m){var t=y.imgEdit?y.imgEdit:void 0;if(t&&g[0]&&-1<g[0].type.indexOf("image")){var e=new k.Imgedit(t.width,t.height,t.scale,t.radius,t.editType);e.maxSize=l,e.open(g[0],function(t){t?i(e.dataBlob,e.mimeType):i()})}else i();function i(d,h){var c=new FormData,p=/^(.+)\.(.+)$/,u=[],t=[],f=[],e=[],i=$("#upLoadInput").attr("accept");i=i?i.toUpperCase():i,0==$("#upLoadBox").size()&&$("body").append("<div id='upLoadBox'></div>");for(var n=0;n<g.length;n++){var s=g[n].name||(new Date).only()+"."+m,a=h?s.replace(p,"$1."+h):s,o=d?d.size:g[n].size;i&&-1==i.indexOf(a.replace(p,"$2").toUpperCase())&&t.push(a),l&&l<o&&e.push(a)}if(0<t.length)return k.alertx(t.join(",")+" 文件类型不符，请选择正确的文件类型"),!1;if(0<e.length)return k.alertx(e.join(",")+" 过大,请重新选择"),!1;for(n=0;n<g.length;n++)r(n);function r(t){var e="upLoadId"+(new Date).only(),i=g[t].name||e+"."+m,n=h?i.replace(p,"$1."+h):i;if(u.push(g[t]),f.push(n),y.formDataAppend)for(var s in y.formDataAppend)"function"==typeof y.formDataAppend[s]?c.append(s,y.formDataAppend[s](g[t]),n):c.append(s,y.formDataAppend[s]);c.append("file",d||g[t],n);var a=n.replace(/^(.{1,10})(.*)$/,function(t,e,i){return 3<i.length?e+"...":t});$("#upLoadBox").append("<div class='upLoad' title='"+a+"' id='"+e+"'><span class='upLoad_name'>正在上传 "+a+"</span><div class='upLoad_loaded'></div><span class='upLoad_close' title='取消'>x</span></div>");var o=!1,r=new k.Ajax(v,function(t){o=!0,$("#"+e).find(".upLoad_name").html(t.errorMsg?a+" 上传失败,"+t.errorMsg:a+" 上传完成"),$("#"+e).find(".upLoad_loaded").css({animation:"none"}),$("#upLoadInput").remove(),x(t,u),setTimeout(l,5e3)},{header:b,loading:!0,meth:"POST",data:c,progress:function(t){$("#"+e).find(".upLoad_loaded").css({width:Math.round(t.loaded/t.total*100)+"%"})}});function l(){$("#"+e).animate({opacity:0},1e3,function(){$("#"+e).remove(),0==$(".upLoad").size()&&$("#upLoadBox").remove()})}w&&w(e),y.beforeAction?y.beforeAction(c,g[t].name?g[t]:{name:i},function(){r.action()},r):r.action(),$("#"+e).find(".upLoad_close").click(function(){o?l():r.abort()})}}}$("body").append("<input "+t+" id='upLoadInput' type=\"file\" style='display:none;' />"),$("#upLoadInput").click(),$("#upLoadInput").change(function(){this.value&&e(document.getElementById("upLoadInput").files)})},k.TreeModel=function(a){var f=this;this.levelMax=3,this.data={},this.SQLite="",this.dataModel={},this.dataModelConfig={},this.levelConfig=[],this.editable=!1,this.loadFn="",this.errorFn="",this.getAjax=function(t,e,i,r,n){var s=k.clone(this.dataModelConfig.confirmx),a="",l=[],d="",h={};for(var o in 1==t?d=f.levelConfig[i].res.add:2==t?d=f.levelConfig[i].res.edit:3==t&&(d=f.levelConfig[i].res.del),this.dataModel)h[o]=this.dataModel[o],null!=e[o]&&(h[o].vaule=e[o]),this.dataModel[o].input&&(1==t?(a+=("<div>"+this.dataModel[o].input.title+"<br />"+this.dataModel[o].input.html+"</div>")._eval(e,this.dataModel[o].input.htmlEval),l.push(o)):2==t?(a+=("<div>"+this.dataModel[o].input.title+"<br />"+this.dataModel[o].input.html+"</div>")._eval(e,this.dataModel[o].input.htmlEval),l.push(o)):3==t&&(n&&(s.titleHeight=0,s._h=120,s._w=200,s.styles=s.styles||{},s.styles.bottom=s.styles.bottom||"",s.styles.center=s.styles.top||"",s.styles.box=s.styles.box||"",s.styles.bottom+="border-top:none;",s.styles.center+="border-top:none;",s.styles.box+="left:"+(n.offset().left-150)+"px;top:"+(n.offset().top-110)+"px;"),a="<div>确定删除?</div>"));for(var o in d.req)h[o]=d.req[o];k.confirmx('<div style="text-align:left;margin-left:55px;">'+a+"</div>",function(){for(var t=!0,e="",i=0;i<l.length;i++){var n=h[l[i]].input.val();n.result?h[l[i]].vaule=n.vaule:(t=!1,n.msg&&(e+=n.msg))}if(t){for(var s in h)null!=h[s].vaule?h[s]=h[s].vaule:"object"==typeof h[s]&&(h[s]="");var a=d.url._eval(h),o=d.ajaxConfig||{};o.meth=d.meth,o.data=h,new k.Ajax(a,function(t){t&&t[d.res.successKey]?r(t):t&&t.errorMsg?k.alertx("操作失败!"+t.errorMsg):k.alertx("操作失败，未知错误！")},o).action()}else e&&k.alertx(e)},s)},this.active=[0],this.windowScrollTop=0,this.append=function(d,h,c,p){f.levelConfig[h].res.activeClass&&f.levelConfig[h].res.activeClass;if(c=c||a,null!=d&&this.data["num"+d]){var u=this.data["num"+d],t="";f.levelConfig[h].res.beforeFn&&f.levelConfig[h].res.beforeFn(p,f.active);for(var e=0;e<u.length;e++)t+=f.levelConfig[h].res.html._eval(u[e],f.levelConfig[h].res.htmlEval);this.editable&&(t+=f.levelConfig[h].res.add.html),c.html(t+f.levelConfig[h].res.style),0<h&&(f.active[h-1].childBox=c,f.active[h-1].id=d),c.show(),$(window).scrollTop(this.windowScrollTop),this.editable&&c.find("."+f.levelConfig[h].res.add.btnClass).eq(0).click(function(){var t={};for(var e in f.dataModel)t[e]="";t[f.levelConfig[h].pidKey]=d,f.getAjax(1,t,h,function(){f.data["num"+d]=void 0,f.getData(h,d,c,void 0,p)})}),c.children().each(function(e){var t,i,n=$(this),s=f.levelConfig[h].res.clickBox?$(this).find("."+f.levelConfig[h].res.clickBox).eq(0):$(this);if(f.levelConfig[h].res.icon&&$(this).find("."+f.levelConfig[h].res.icon[0]).eq(0).click(function(){"open"==$(this).attr("open")?(2<f.levelConfig[h].res.icon.length&&$(this).attr("src",f.levelConfig[h].res.icon[1]),$(this).removeAttr("open"),(f.levelConfig[h+1].res.obj?f.levelConfig[h+1].res.obj:n.find("."+f.levelConfig[h].res.childBox).eq(0)).html("")):f.clickFn(h,e)}),s.bind(f.levelConfig[h].res.clickEventType?f.levelConfig[h].res.clickEventType:"click",function(){if("function"==typeof f.levelConfig[h].res.defaultClickFn&&!f.levelConfig[h].res.defaultClickFn(u[e]))return!1;f.clickFn(h,e)}),f.levelConfig[h].res.edit&&f.levelConfig[h].res.edit.btnClass&&(t=$(this).find("."+f.levelConfig[h].res.edit.btnClass).eq(0)).hide(),f.levelConfig[h].res.del&&f.levelConfig[h].res.del.btnClass&&(i=$(this).find("."+f.levelConfig[h].res.del.btnClass).eq(0)).hide(),f.editable){$(this).children().eq(0).mouseover(function(){t.show(),i.show(),"function"==typeof f.levelConfig[h].res.mouseover&&f.levelConfig[h].res.mouseover(e)}),$(this).children().eq(0).mouseout(function(){t.hide(),i.hide(),"function"==typeof f.levelConfig[h].res.mouseout&&f.levelConfig[h].res.mouseout(e)});var a=f.levelConfig[h].res.actions;if(a&&0<a.length){for(var o,r="",l=0;l<a.length;l++)r+='<div class="treeActionDiv">',a[l].html?r+=a[l].html:r+='<label class="treeActionLabel">{label}</label><span class="treeActionIcon"><img src="{icon}" /></span><div class="clear"></div>'._eval(a[l]),r+="</div>";n.find(".showActionsBox").html(r),n.find(".treeActionDiv").each(function(t){a[t].html?a[t].action($(this),u,e):$(this).click(function(){a[t].action($(this),u,e)})}),$(this).find(".showActions").mouseover(function(t){o&&clearTimeout(o),n.find(".showActionsBox").show()}),$(this).find(".showActions").mouseout(function(){o=setTimeout(function(){n.find(".showActionsBox").hide()},500)}),n.find(".showActionsBox").mouseover(function(){clearTimeout(o)}),n.find(".showActionsBox").mouseout(function(){o=setTimeout(function(){n.find(".showActionsBox").hide()},500)})}t.click(function(){f.getAjax(2,f.data["num"+d][e],h,function(){f.data["num"+d]=void 0,f.getData(h,d,c,void 0,p)})}),i.click(function(){f.getAjax(3,f.data["num"+d][e],h,function(){f.data["num"+d]=void 0,f.getData(h,d,c,void 0,p)},i)})}}),f.levelConfig[h].res.endFn&&f.levelConfig[h].res.endFn(f.active)}},this.clickFn=function(t,e){var i=f.levelConfig[t].res.activeClass?f.levelConfig[t].res.activeClass:"active",n=a.children().eq(e);f.active[t-1]&&f.active[t-1].childBox&&(n=f.active[t-1].childBox.children().eq(e));var s=f.levelConfig[0].req[f.levelConfig[0].pidKey];f.active[t-1]&&f.active[t-1].id&&(s=f.active[t-1].id),f.levelConfig[t].res.clickFn&&f.levelConfig[t].res.clickFn(f.active),f.windowScrollTop=$(window).scrollTop(),f.active[t]&&f.active[t].obj.removeClass(i),f.levelConfig[t].res.childBoxOnly&&f.active[t]&&f.active[t].flog!=e&&f.active[t].childBox&&f.active[t].childBox.hide(),f.levelConfig[t].res.icon&&f.active[t]&&f.active[t].iconObj&&f.active[t].iconObj.attr("src",f.levelConfig[t].res.icon[1]),f.active[t]={iconObj:f.levelConfig[t].res.icon?n.find("."+f.levelConfig[t].res.icon[0]).eq(0):"",obj:n,flog:e},f.active[t].obj.addClass(i),t+1==f.levelMax?f.loadFn&&f.loadFn(f.data["num"+s][e][f.levelConfig[t].idKey],s,"",f.data["num"+s][e],t+1):(f.levelConfig[t+1]=f.levelConfig[t+1]?f.levelConfig[t+1]:k.clone(f.levelConfig[t]),f.getData(t+1,f.data["num"+s][e][f.levelConfig[t].idKey],f.levelConfig[t+1].res.obj?f.levelConfig[t+1].res.obj:n.find("."+f.levelConfig[t].res.childBox).eq(0),s,f.data["num"+s][e]),f.levelConfig[t].res.icon&&(2<f.levelConfig[t].res.icon.length&&f.active[t].iconObj.attr("src",f.levelConfig[t].res.icon[2]),f.active[t].iconObj.attr("open","open")))},this.getting="",this.getData=function(s,a,o,r,l){(null!=a?this.levelConfig[s].req[this.levelConfig[s].pidKey]=a:a=this.levelConfig[s].req[this.levelConfig[s].pidKey],null!=a&&this.data["num"+a])?(f.append(a,s,o,l),this.loadFn&&this.loadFn(null==a?this.levelConfig[s].req[this.levelConfig[s].pidKey]:a,r,o,l,s)):(this.getting=a,this.SQLite?this.SQLite.find(this.levelConfig[s].req,function(t){n(t)}):(o&&o.html("<div  class='loadBeginMsg'>获取中...</div>"),new k.Ajax(this.levelConfig[s].url,function(t,e,i){i==f.getting&&n(t)},{meth:this.levelConfig[s].meth,data:this.levelConfig[s].req}).action(a)));function n(t){if(t&&!t.errorMsg){var e=t;if(f.levelConfig[s].res.arrKey)for(var i=0;i<f.levelConfig[s].res.arrKey.length;i++)e=e[f.levelConfig[s].res.arrKey[i]];f.data["num"+a]=e,f.append(a,s,o,l)}else{var n="请求失败";t&&t.errorMsg&&(n+=","+t.errorMsg),o&&o.html("<div  class='loadBeginMsg'>"+n+"</div>"),k.alertx(n,function(){f.errorFn&&f.errorFn(null==a?f.levelConfig[s].req[f.levelConfig[s].pidKey]:a,r,o,l,s,t)})}f.loadFn&&f.loadFn(null==a?f.levelConfig[s].req[f.levelConfig[s].pidKey]:a,r,o,l,s)}}},k.useStrict=function(){"use strict";try{useStrict=void 0}catch(t){return!0}},k.platform=function(){var t=navigator.userAgent.toLowerCase();return/iphone|ipad/.test(t)?"iOS":/android/.test(t)?"Android":"Web"},k.on=function(t,e,r,i){i=i||{};var l,d,h,c,p,n=!0;switch(e){case"click":c=[0,70];break;case"pan":c=[70,1e3];break;case"touch":break;default:n=!1}if(!n)return!1;c=i.xy||c,p=i.z||p;var u=!1;function s(t){u=!0,t=t||window.event,i.start&&i.start(t),l=t.changedTouches?t.changedTouches[0].clientX:t.clientX,d=t.changedTouches?t.changedTouches[0].clientY:t.clientY,h=new Date}function a(t,e){e||(u=!1);var i={x:0,y:0,z:0},n=(t=t||window.event).changedTouches?t.changedTouches[0].clientX:t.clientX;n-=l,i.x=n,n=Math.abs(n);var s=t.changedTouches?t.changedTouches[0].clientY:t.clientY;s-=d,i.y=s,s=Math.abs(s);var a=new Date-h;i.z=a,a=Math.abs(a);var o=Math.sqrt(n*n+s*s);return(!c||!(o<c[0]||o>c[1]))&&((!p||!(a<p[0]||a>p[1]))&&(t.xyz=i,void(e?e(t):r(t))))}("ontouchstart"in document.documentElement||"ontouchstart"in document)&&navigator.userAgent.match(/(iPhone|iPod|Android|ios|iPad|SymbianOS|Windows Phone)/i)?(t.addEventListener("touchstart",s,!1),i.move&&t.addEventListener("touchmove",function(t){u&&a(t,i.move)},!1),t.addEventListener("touchend",a,!1)):(t.onmousedown=s,i.move&&(t.onmousemove=function(t){u&&a(t,i.move)}),t.onmouseup=a)},k.ScrollEvent={args:[],bindEvent:!1,init:function(){var n=this.args,s=0;$(window).scroll(function(t){for(var e=$(this).scrollTop(),i=0;i<n.length;i++)n[i][0]&&n[i][0]<=e&&n[i][1](e,s),n[i][0]&&n[i][0]>e&&n[i][2](e,s);s=e})},set:function(){var t=$(window).scrollTop();if(0<arguments.length)for(var e=0;e<arguments.length;e++)this.args.push(arguments[e]),t>=arguments[e][0]?arguments[e][1](t,0):arguments[e][2](t,0);this.bindEvent||(this.init(),this.bindEvent=!0)}},k.WindowResize={args:[],bindEvent:!1,init:function(){var n=this.args;$(window).bind("resize",function(){for(var t=$(window).width(),e=$(window).width(),i=0;i<n.length;i++)"function"==typeof n[i]&&n[i](t,e)})},set:function(){if(0<arguments.length)for(var t=0;t<arguments.length;t++)this.args.push(arguments[t]);this.bindEvent||(this.init(),this.bindEvent=!0)}},k.loadImg=function(t,r){if(r=r||{},t.each){var n=r.err,l=r.errImg||"images/errImg.png";n=0==r.err?"":r.err,t.each(function(t){var e=$(this);!1===r.drag&&(e.attr("ondragstart","return false;"),e.attr("onselectstart","return false;"),e.css("-moz-user-select","none"),e.css("overflow","hidden"));var i=e.attr(r.attrName?r.attrName:"imgSrc");i?function t(e,i,n){var s=document.createElement("Img");var a=i.width();var o=i.height();s.onload=function(){if(a&&o){var t=k.setImgSize({_w:a,_h:o,w:s.width,h:s.height,type:r.type});s.width=t[0],s.height=t[1],s.style.position="relative",s.style.top=t[2]+"px",s.style.left=t[3]+"px"}if(r.attr)for(var e in r.attr)s.setAttribute(e,r.attr[e]);i.html(s),i.css("background-image","none")};n||(s.onerror=function(){n?i.html(n):t(l,i,!0)});s.src=e;i.removeAttr(r.attrName?r.attrName:"imgSrc")}(i,e):n&&(e.html(n),e.css("background-image","none"))})}},k.Lists=function(a){var o=this;this.id=(new Date).only(),this.paging=function(){var e=a.list.pageNum-1;if(a.paging.html("<font style='margin-right:10px;color:#999999;float:left;'>共 "+a.list.total+" 条数据"+(0==a.changePageSize?"":",每页<select id='pageSizeSelect"+this.id+"' style='border-color:#e4e4e4;width:50px;margin:0px 5px;'><option value='5' "+(5==a.list.pageSize?"selected":"")+">5</option><option value='10' "+(10==a.list.pageSize?"selected":"")+">10</option><option value='15' "+(15==a.list.pageSize?"selected":"")+">15</option><option value='20' "+(20==a.list.pageSize?"selected":"")+">20</option><option value='50' "+(50==a.list.pageSize?"selected":"")+">50</option><option value='100' "+(100==a.list.pageSize?"selected":"")+">100</option></select>条</font>")),$("#pageSizeSelect"+this.id).change(function(){localStorage&&a.urlId&&(localStorage[a.urlId]=this.value),a.list.pageSize=this.value,a.list.reLoad()}),a.list.total>a.list.pageSize){var i=Math.ceil(a.list.total/a.list.pageSize),t="<span class='pagaBtn pagaBtnFirst'>首页</span><span class='pagaBtn'><</span>";3<=e-1&&(t+="<span class='pagaBtn'>...</span>");for(var n=0;n<i;n++)e-1-3<n&&n<e-1+3&&(t+="<span class='pagaBtn"+(n+1==e?" pagaBtnActive":"")+"'>"+(n+1)+"</span>");3<i-(e-1)&&(t+="<span class='pagaBtn'>...</span>"),t+="<span class='pagaBtn'>></span><span class='pagaBtn pagaBtnLast'>尾页</span>",a.paging.append(t);var s=a.paging.find("span").size();a.paging.find("span").each(function(t){switch(t){case 0:$(this).attr("num",1);break;case 1:$(this).attr("num",1==e?1:e-1);break;case s-1:$(this).attr("num",i);break;case s-2:$(this).attr("num",e==i?i:e+1);break;default:$(this).attr("num",$(this).html())}$(this).click(function(){0<=(e=- -$(this).attr("num"))&&a.list.refresh(o.append,e)})})}},this.changeStatu=function(){a.status&&(a.list.status.loading||a.list.status.refreshing?a.status.html('<div class="loadStatu loads_loading">加载中...</div>'):a.list.status.beforeLoad?a.status.html('<div class="loadStatu loads_beforeLoad">点击获取数据</div>'):a.list.status.noData?a.status.html('<div class="loadStatu loads_noData">抱歉,未找到相应内容</div>'):a.list.status.allLoaded?a.status.html('<div class="loadStatu loads_allLoaded">已全部加载完成</div>'):a.status.html('<div class="loadStatu loads_load">点击加载更多</div>'),a.status.find(".loads_beforeLoad,.loads_noData,.loads_load").click(function(){a.list.load(o.append)}))},this.append=function(){for(var t="",e=0;e<a.list.data.length;e++)t+=a.template._eval(a.list.data[e],a.templateEval);t+=a.clear||'<div style="clear:both;"></div>',a.paging?(a.obj.html(t),o.paging()):a.obj.append(t),o.changeStatu(),a.loaded&&a.loaded()},a.list.beforeLoadFn=this.changeStatu,a.list.load(this.append)},k.picBox=function(t,e){$("body").append('<div id="_picBoxClose" style="position:fixed;z-index:4999;color:#fff;right:8px;top:8px;padding:3px 10px;">X</div><div style="position:fixed;z-index:4998;left:0px;top:0px;right:0px;bottom:0px;background:rgba(0,0,0,0.5);display:flex;justify-content: center;align-items: center;" id="_picBox"><img style="max-width:100%;" id="_picBoxImg" src="'+t+'" /></div>');var s=[],a=[],o=0;function r(){$("#_picBoxImg").css("transform","translate3d("+_left+"px, "+_top+"px, 0px) scale("+scale+", "+scale+")")}scale=1,_left=0,_top=0,scaleing=!1,Y.on($("#_picBox")[0],"touch",function(t){$("#_picBox").remove(),$("#_picBoxClose").remove(),t.preventDefault()},{move:function(t){t.preventDefault()}}),k.on($("#_picBoxClose")[0],"click",function(t){$("#_picBox").remove(),$("#_picBoxClose").remove()}),k.on($("#_picBoxImg")[0],"touch",function(t){t.stopPropagation(),scaleing=!1},{move:function(t){if(t.changedTouches)if(1<t.changedTouches.length){var e=[t.changedTouches[0].clientX,t.changedTouches[1].clientX],i=[t.changedTouches[0].clientY,t.changedTouches[1].clientY],n=Math.sqrt(e[0]-e[1])*(e[0]-e[1])+(i[0]-i[1])*(i[0]-i[1]);0!=n&&(scaleing=!0,o<n?scale+=.1:(scale-=.1,scale=scale<1?1:scale),r(),s=e,a=i,o=n)}else if(!scaleing){e=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY;_left+=0<e-s?3:-3,_top+=0<i-a?3:-3,r(),s=e,a=i}}})},k.zIndex=(e=0,function(t){return 1e4*(t||4)+e++}),k.clone=function(t,e){if(!t||"object"!=typeof t)return t;if(e&&JSON)return JSON.parse(JSON.stringify(t));var i=t.constructor===Array?[]:{};for(var n in t)i[n]="object"!=typeof t?t[n]:k.clone(t[n]);return i},k.equal=function(t,e){if(!t||!e||"object"!=typeof t||"object"!=typeof e)throw"typeof arguments must be object and not null";for(var i in e)t[i]&&e[i]&&"object"==typeof t[i]&&"object"==typeof e[i]?arguments.callee(t[i],e[i]):t[i]=e[i]},k.string=function(r){return(r=new String(r)).replaceAll=function(t,e){return this.split(t).join(e)},r.max=function(t,e){e=e||"...";var i=this;return i=i.length>t?i.substr(0,t-e.length)+e:i},r._eval=function(t,e,i){var n=this;for(var s in t){var a=t[s];a=null==a||null==a?"":a,n=(n=n.replace(new RegExp("{()"+s+"}","g"),a)).replace(new RegExp("{listStyle_"+s+"}","g"),"string"==typeof a?a.charAt(0):"?"),e&&(n=e(n,s,a,t))}return i&&(n=i(n,t)),n},r.dhms=function(t){var e=- -r,i="",n=parseInt(e/86400);i=0<n?n+"天":"";var s=parseInt(e/3600%24);(i||0<s)&&(i+=s+"时");var a=parseInt(e/60%60);(i||0<a)&&(i+=a+"分");var o=parseInt(e%60);return(i||0<o)&&(i+=o+"秒"),"Array"==t?i=[n,s,a,o]:"Object"==t&&(i={d:n,h:s,m:a,s:o}),i},r},k.Verify={Name:function(t){return[0<(t=t.replace(/(^\s*)|(\s*$)/g,"")).length,"不能为空"]},Phone:function(t){return[/^1\d{10}$/.test(t),"格式错误"]},IDCard:function(t){var e,i,n,s,a=t.length;if(15===a){if(!(e=t.match(/^(?:\d{6})(\d{2})(\d{2})(\d{2})(?:\d{3})$/)))return[!1,"格式错误"];i=parseInt("19"+e[1],10),n=parseInt(e[2],10),s=parseInt(e[3],10),t.charAt(a-1)%2}else if(18===a){for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=0,l=0;r<17;r++)l+=t.charAt(r)*o[r];if("10X98765432".charAt(l%11)!==t.charAt(17).toUpperCase())return[!1,"格式错误"];if(!(e=t.match(/^(?:\d{6})(\d{4})(\d{2})(\d{2})(?:\d{3})(?:[0-9]|X)$/i)))return[!1,"格式错误"];i=parseInt(e[1],10),n=parseInt(e[2],10),s=parseInt(e[3],10),t.charAt(a-2)%2}var d=new Date(i,n-1,s);return i!==d.getFullYear()||n!==d.getMonth()+1||s!==d.getDate()?[!1,"格式错误"]:[[i+(n<10?"-0":"-")+n+(s<10?"-0":"-")+s,i,n,s],"格式错误"]},Email:function(t){return[/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t),"格式错误"]},Date:function(t){return[/^\d{4}(-\d{1,2}(-\d{1,2})?)?$/.test(t),"格式错误"]},PositiveInt:function(t){return[/^\d+$/.test(t),"必须为正整数"]},NotNull:function(t){return[!(null==t||null==t||""==t),"不能为空"]},MaxLength:function(t,e){return[t.length<=e,"最大长度为"+e]},MinLength:function(t,e){return[t.length>=e,"最小长度为"+e]},MaxNumber:function(t,e){return[t<=e,"最大值为"+e]},MinNumber:function(t,e){return[e<=t,"最小值为"+e]},Regx:function(t,e){return e=e.split("_gmi_"),[new RegExp(e[0],e[1]).test(t),"格式不正确"]},Rules:function(t,e,i){i=i||{};var n=[];if((e=e||{}).NotNull||this.NotNull(t)[0])for(var s in e){var a=e[s];if(0!=a){var o=this[s](t,a);if(!o[0]){n.push("string"==typeof i[s]?i[s]:o[1]);break}}}else;return[0==n.length,n.join(",")]},ComponentsData:function(t,e){for(var i=[],n=0;n<e.length;n++)if(e[n].rule){var s=this.Rules(t[e[n].id],e[n].rule);s[0]||i.push(e[n].label+s[1])}return[0==i.length,i.join(",")]}},k.List=function(n){n=n||{},this.idKey=n.idKey||"id",this.pageSize=n.pageSize||10,this.pageNum=n.pageNum||1,this.total=n.total||0,this.rows=[],this.show="function"==typeof n.showFn?n.showFn:function(){},this.disClicks=n.disClicks||[],this.SQLite=n.data?new k.SQLite(n.data):"",this.get=n.get||"",this.loadFn="",this.beforeLoadFn=n.beforeLoadFn||"",this.status={allLoaded:!1,loading:!1,refreshing:!1,noData:!1,beforeLoad:!0},this.refresh=function(t,e){return!this.status.loading&&(!this.status.refreshing&&(this.pageNum=e||1,this.status.refreshing=!0,this.status.allLoaded=!1,void this.load(t)))},this.load=function(e){var i=this;return!this.status.loading&&(!this.status.allLoaded&&(this.status.refreshing||(this.status.loading=!0),this.status.beforeLoad&&(this.status.beforeLoad=!1),this.status.noData&&(this.status.noData=!1),"function"==typeof this.beforeLoadFn&&this.beforeLoadFn(),void(this.SQLite?this.SQLite.find(this.get.data,function(t){setTimeout(function(){i.add(t,e)},100)},{pageNum:this.pageNum,pageSize:this.pageSize}):this.get&&(this.get.data.pageNum=this.pageNum,this.get.data.pageSize=this.pageSize,this.get.action("",function(t){i.add(t,e)})))))},this.data=[],this.add=function(t,e){if(this.status.refreshing&&this.rows.splice(0,this.rows.length),t&&t.rows instanceof Array){if(this.data=t.rows,this.total=t.total,0<this.data.length)for(var i=0;i<this.data.length;i++)"function"==typeof n.addDataChange&&n.addDataChange.call(this.data[i]),this.data[i].checked=!1,this.rows.push(this.data[i]);0==this.total&&(this.status.noData=!0),this.total==this.rows.length&&(this.status.allLoaded=!0)}else this.status.noData=!0,this.status.allLoaded=!0;this.status.loading=!1,this.status.refreshing=!1,"function"==typeof this.show&&this.show.call(this),this.pageNum++,"function"==typeof e&&e.call(this)},this.checkn=function(t,e){return!this.status.loading&&!this.status.refreshing&&(!(-1<("|"+this.disClicks.join("|")+"|").indexOf("|"+this.rows[t][this.idKey]+"|"))&&void("function"==typeof e?e.call(this,this.rows[t])&&(this.rows[t].checked=!this.rows[t].checked,this.show.call(this)):(this.rows[t].checked=!this.rows[t].checked,this.show.call(this))))},this.checkAll=function(t){if(this.status.loading||this.status.refreshing)return!1;for(var e="|"+this.disClicks.join("|")+"|",i=0;i<this.rows.length;i++)-1<e.indexOf("|"+this.rows[i][this.idKey]+"|")||(this.rows[i].checked=!!t);this.show.call(this)},this.val=function(t){if(!(t instanceof Array)){var e=[];for(i=0;i<this.rows.length;i++)this.rows[i].checked&&e.push(this.rows[i]);return e}t="|"+t.join("|")+"|";for(var i=0;i<this.rows.length;i++)-1<t.indexOf("|"+this.rows[i][this.idKey]+"|")&&(this.rows[i].checked=!0);this.show.call(this)}},k.Item=function(t){var e=this;this.typeOf="Item",this.item=[],this.length=0,this.flog=0,this.max=t.max||1,this.actionLength=0,this._push=function(t){this.length++,this.item.push(t),this.actionLength<this.max&&this._do()},this._do=function(){this.actionLength++,this.length--,this.item[this.flog](function(){e.actionLength--,0<e.length&&e._do()}),this.item[this.flog]=null,this.flog++}},k.Ajax=function(t,e,u){var f=k;u=u||{};var g=this;this.url=t,this.header=u.header||[],this.loading=u.loading||{},this.type=u.meth||"GET",this.contentType=u.contentType||"application/x-www-form-urlencoded; charset=UTF-8",this.dataType=u.dataType||"json",this.async=!1!==u.async,this.data=u.data||{},this.progress=u.progress,this.cache=!1!==u.cache,this.finalFn=e,this.storage=u.storage||{},u.storageName&&(this.storage.name=u.storageName),this.storage.name&&f.Storage.init(this.storage.name,this.storage);var m=u.xhr||new XMLHttpRequest;m.upload?(m.upload.onprogress=function(t){t.lengthComputable&&g.progress&&g.progress(t)},m.onload=function(t){g.complete(t)},m.onabort=function(t){g.loading.close&&g.loading.close(),g.returnFn({errorMsg:m.responseText?m.responseText:"请求中断"})},m.onerror=function(t){g.loading.close&&g.loading.close(),g.returnFn({errorMsg:m.responseText?m.responseText:"连接服务器失败"})}):m.onreadystatechange=function(){4==m.readyState&&g.complete()},this.abort=function(){m.onabort&&m.abort()},this.complete=function(t){if(g.loading.close&&g.loading.close(),404==m.status)this.returnFn({errorMsg:m.statusText});else{t=m.responseText||t;var e=f.Storage.get("loginAction");e&&!u.noLoginAction?e(t,function(t){g.returnFn("",t)}):g.returnFn("",t)}},this.actionKey="",this.itemNext="",this.returned=!1,this.timeoutTimer="",this.returnFn=function(t,e,i){if(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=""),this.returned)return!1;if(this.returned=!0,t&&(e=JSON.stringify(t),t.xhr=m),"json"==this.dataType.toLowerCase())try{e="string"==typeof e?JSON.parse(e):e}catch(t){e={errorMsg:"返回数据格式错误"}}i||e.errorMsg||!this.storage.name||f.Storage.set(this.storage.name,e),this.finalFn(e,t,this.actionKey),this.itemNext&&this.itemNext()},this.action=function(t,e){try{this.returned=!1;var s=f.string(this.url);this.actionKey=t,e&&"function"==typeof e&&(this.finalFn=e);var i=this.storage&&this.storage.name&&f.Storage.get(this.storage.name);if(i)this.returnFn("",i,!0);else{/{.+}/.test(s)&&(s=s._eval(this.data));var a="";if(this.data&&this.data.constructor&&0==this.data.constructor.toString().indexOf("function FormData()"))a=this.data,this.contentType="";else{if("POST"!=this.type.toUpperCase()&&"PUT"!=this.type.toUpperCase()&&"DELETE"!=this.type.toUpperCase()||u.dataJson){this.cache&&(this.data._=(new Date).getTime());var n=!0,o=f.clone(this.data);for(var r in o)void 0!==o[r]&&(o[r]=encodeURI("object"==typeof o[r]?JSON.stringify(o[r]):o[r]),n?(a+=r+"="+o[r],n=!1):a+="&"+r+"="+o[r])}else{var l=!0;for(var r in this.data)l=!1;a+=l?"":JSON.stringify(this.data),this.contentType="application/json;charset=utf-8"}"GET"==this.type.toUpperCase()&&(-1==s.indexOf("?")&&(s+="?"),s+=("?"==s.charAt(s.length-1)?"":"&")+a,a=""),this.loading.open&&this.loading.open()}var d=f.Storage.get("beforeLoginAction");if(d&&!u.noBeforeLoginAction){var h=d.call(this);if(h)return this.complete(h),!1}var c="";function p(t){t&&(g.itemNext=t),m.open(g.type,s,g.async),g.contentType&&m.setRequestHeader("Content-Type",g.contentType);try{var e=f.Storage.get("ajaxHeader");for(i=0;i<e.length;i++)m.setRequestHeader(e[i].key,e[i].vaule)}catch(t){}for(var i=0;i<g.header.length;i++)m.setRequestHeader(g.header[i].key,g.header[i].vaule);m.send(a);var n=u.timeout?u.timeout:f.Storage.get("ajaxTimeOut");0<n&&(g.timeoutTimer=setTimeout(function(){g.loading.close&&g.loading.close(),g.returnFn({errorMsg:"请求超时"})},n))}1==u.Item?(c=f.Storage.get("_ajaxItems"))||(c=new f.Item({max:5}),f.Storage.set("_ajaxItems",c)):c=u.Item,"object"==typeof c&&"Item"==c.typeOf?c._push(p):p()}}catch(t){g.returnFn({errorMsg:"请求异常"})}}},k.Storage={state:{},config:{},localStorage:function(){try{return localStorage}catch(t){return null}}(),setLocalStorage:function(t){t&&t.setItem&&t.getItem&&t.removeItem&&t.length&&(this.localStorage=t)},init:function(t,e){e=e||{},this.config[t]||(this.config[t]={createTime:new Date,times:e.times||0,useTimes:0,timeSpan:e.timeSpan||0,type:e.type||0})},set:function(t,e){if(this.config[t]&&(this.config[t].useTimes=0,1==this.config[t].type&&this.localStorage))return this.localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e)),!1;this.state[t]&&e&&this.state[t],this.state[t]=e},get:function(t){if(this.config[t]){var e=!0,i=this.config[t];0<i.times&&i.times<=i.useTimes&&(e=!1),0<i.timeSpan&&i.timeSpan<new Date-i.createTime&&(e=!1);var n=1==this.config[t].type&&this.localStorage?this.localStorage.getItem(t):this.state[t];try{n="string"==typeof n?JSON.parse(n):n}catch(t){}return e?n:void 0}return this.state[t]}},k.SQLite=function(o,t){function h(t,e,i){t=t||{},i=i||{};for(var n=0;n<o.length;n++){var s=!0;for(var a in t)void 0!==o[n]&&t[a]==o[n][a]||(s=!1);if(s&&(e(o[n],n),i.findOne))break}}o=o||[],t=t||{},this.find=function(t,e,i){var n=[];if(h(t,function(t,e){t._id=e,n.push(k.clone(t))},i=i||{}),i.sortFn&&n.sort(i.sortFn),i.pageNum){for(var s=i.pageSize||1e8,a=i.pageNum||1,o=s*(a-1),r=a*s-1,l=[],d=0;d<n.length;d++)o<=d&&d<=r&&l.push(n[d]);e({pageSize:s,pageNum:a,rows:l,total:n.length})}else e(n)},this.insert=function(t,e){t=t||{},o.push(t)},this.update=function(t,n,e,i){n=n||{};var s=!1;h(t,function(t,e){for(var i in n)t[i]=n[i];o[e]=t,s=!0},i),e(s)},this.remove=function(t,e,i){var n=!1;h(t,function(t,e){o[e]=void 0,n=!0},i),e(n)}},k.MD5=function(t){var a=0;function e(t){return n(i(s(t)))}function i(t){return r(l(o(t),8*t.length))}function n(t){for(var e,i=a?"0123456789ABCDEF":"0123456789abcdef",n="",s=0;s<t.length;s++)e=t.charCodeAt(s),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function s(t){for(var e,i,n="",s=-1;++s<t.length;)e=t.charCodeAt(s),i=s+1<t.length?t.charCodeAt(s+1):0,55296<=e&&e<=56319&&56320<=i&&i<=57343&&(e=65536+((1023&e)<<10)+(1023&i),s++),e<=127?n+=String.fromCharCode(e):e<=2047?n+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n}function o(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e}function r(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e}function l(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var i=1732584193,n=-271733879,s=-1732584194,a=271733878,o=0;o<t.length;o+=16){var r=i,l=n,d=s,h=a;n=f(n=f(n=f(n=f(n=u(n=u(n=u(n=u(n=p(n=p(n=p(n=p(n=c(n=c(n=c(n=c(n,s=c(s,a=c(a,i=c(i,n,s,a,t[o+0],7,-680876936),n,s,t[o+1],12,-389564586),i,n,t[o+2],17,606105819),a,i,t[o+3],22,-1044525330),s=c(s,a=c(a,i=c(i,n,s,a,t[o+4],7,-176418897),n,s,t[o+5],12,1200080426),i,n,t[o+6],17,-1473231341),a,i,t[o+7],22,-45705983),s=c(s,a=c(a,i=c(i,n,s,a,t[o+8],7,1770035416),n,s,t[o+9],12,-1958414417),i,n,t[o+10],17,-42063),a,i,t[o+11],22,-1990404162),s=c(s,a=c(a,i=c(i,n,s,a,t[o+12],7,1804603682),n,s,t[o+13],12,-40341101),i,n,t[o+14],17,-1502002290),a,i,t[o+15],22,1236535329),s=p(s,a=p(a,i=p(i,n,s,a,t[o+1],5,-165796510),n,s,t[o+6],9,-1069501632),i,n,t[o+11],14,643717713),a,i,t[o+0],20,-373897302),s=p(s,a=p(a,i=p(i,n,s,a,t[o+5],5,-701558691),n,s,t[o+10],9,38016083),i,n,t[o+15],14,-660478335),a,i,t[o+4],20,-405537848),s=p(s,a=p(a,i=p(i,n,s,a,t[o+9],5,568446438),n,s,t[o+14],9,-1019803690),i,n,t[o+3],14,-187363961),a,i,t[o+8],20,1163531501),s=p(s,a=p(a,i=p(i,n,s,a,t[o+13],5,-1444681467),n,s,t[o+2],9,-51403784),i,n,t[o+7],14,1735328473),a,i,t[o+12],20,-1926607734),s=u(s,a=u(a,i=u(i,n,s,a,t[o+5],4,-378558),n,s,t[o+8],11,-2022574463),i,n,t[o+11],16,1839030562),a,i,t[o+14],23,-35309556),s=u(s,a=u(a,i=u(i,n,s,a,t[o+1],4,-1530992060),n,s,t[o+4],11,1272893353),i,n,t[o+7],16,-155497632),a,i,t[o+10],23,-1094730640),s=u(s,a=u(a,i=u(i,n,s,a,t[o+13],4,681279174),n,s,t[o+0],11,-358537222),i,n,t[o+3],16,-722521979),a,i,t[o+6],23,76029189),s=u(s,a=u(a,i=u(i,n,s,a,t[o+9],4,-640364487),n,s,t[o+12],11,-421815835),i,n,t[o+15],16,530742520),a,i,t[o+2],23,-995338651),s=f(s,a=f(a,i=f(i,n,s,a,t[o+0],6,-198630844),n,s,t[o+7],10,1126891415),i,n,t[o+14],15,-1416354905),a,i,t[o+5],21,-57434055),s=f(s,a=f(a,i=f(i,n,s,a,t[o+12],6,1700485571),n,s,t[o+3],10,-1894986606),i,n,t[o+10],15,-1051523),a,i,t[o+1],21,-2054922799),s=f(s,a=f(a,i=f(i,n,s,a,t[o+8],6,1873313359),n,s,t[o+15],10,-30611744),i,n,t[o+6],15,-1560198380),a,i,t[o+13],21,1309151649),s=f(s,a=f(a,i=f(i,n,s,a,t[o+4],6,-145523070),n,s,t[o+11],10,-1120210379),i,n,t[o+2],15,718787259),a,i,t[o+9],21,-343485551),i=g(i,r),n=g(n,l),s=g(s,d),a=g(a,h)}return Array(i,n,s,a)}function d(t,e,i,n,s,a){return g((o=g(g(e,t),g(n,a)))<<(r=s)|o>>>32-r,i);var o,r}function c(t,e,i,n,s,a,o){return d(e&i|~e&n,t,e,s,a,o)}function p(t,e,i,n,s,a,o){return d(e&n|i&~n,t,e,s,a,o)}function u(t,e,i,n,s,a,o){return d(e^i^n,t,e,s,a,o)}function f(t,e,i,n,s,a,o){return d(i^(e|~n),t,e,s,a,o)}function g(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return e(t)},Object.defineProperties){var t={};for(var i in k)t[i]={value:k[i],writable:!(k[i]&&!k[i].writable),enumerable:!1,configurable:!1};k=Object.defineProperties({},t)}}(Y);