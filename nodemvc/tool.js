var a={string:function(u){return(u=new String(u)).replaceAll=function(t,e){return this.split(t).join(e)},u.max=function(t,e){e=e||"...";var n=this;return n=n.length>t?n.substr(0,t-e.length)+e:n},u._eval=function(t,e,n){var r=this;for(var i in t){var a=t[i];a=null==a||null==a?"":a,r=(r=r.replace(new RegExp("{()"+i+"}","g"),a)).replace(new RegExp("{listStyle_"+i+"}","g"),"string"==typeof a?a.charAt(0):"?"),e&&(r=e(r,i,a,t))}return n&&(r=n(r,t)),r},u.dhms=function(t){var e=- -u,n="",r=parseInt(e/86400);n=0<r?r+"天":"";var i=parseInt(e/3600%24);(n||0<i)&&(n+=i+"时");var a=parseInt(e/60%60);(n||0<a)&&(n+=a+"分");var o=parseInt(e%60);return(n||0<o)&&(n+=o+"秒"),"Array"==t?n=[r,i,a,o]:"Object"==t&&(n={d:r,h:i,m:a,s:o}),n},u},date:function(i){return(i=i||new Date).Format=function(t){var e={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},i.parse=function(t,e){var n=[],r=[];switch(e){case"date":n=t.split("-");break;case"time":r=t.split(":");break;default:n=(t=t.split(" "))[0].split("-"),r=t[1].split(":")}return n[0]&&i.setFullYear(n[0]),n[1]&&i.setMonth(n[1]-1),n[2]&&i.setDate(n[2]),r[0]&&i.setHours(r[0]),r[1]&&i.setMinutes(r[1]),r[2]&&i.setSeconds(r[2]),i},i.contDown=function(t){var e=(t=t.split(" "))[0].split("-"),n=t[1].split(":"),r=new Date;return r.setFullYear(e[0],e[1]-1,e[2]),r.setHours(n[0]),r.setMinutes(n[1]),r.setSeconds(n[2]),parseInt((r.getTime()-i.getTime())/1e3)},i.only=function(){var t=this.getTime().toString();return t=- -t.substr(t.length-10,9)},i.age=function(t,e,n){var r=0;return r=this.getFullYear()-t,this.getMonth()+1>e?r++:this.getMonth()+1==e&&this.getDate()>=n&&r++,r},i.weekDay=function(){var t=this.getDay();switch(t){case 0:t="星期日";break;case 1:t="星期一";break;case 2:t="星期二";break;case 3:t="星期三";break;case 4:t="星期四";break;case 5:t="星期五";break;case 6:t="星期六"}return t},i.toLocalString=function(){return this.Format("yyyy-MM-dd hh:mm:ss")},i},Guid:function(t){return("xxxxxxxx"+(t=t||"")+"xxxx"+t+"4xxx"+t+"yxxx"+t+"xxxxxxxxxxxx").replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}).toUpperCase()},MD5:function(t){var a=0;function e(t){return r(n(i(t)))}function n(t){return u(s(o(t),8*t.length))}function r(t){for(var e,n=a?"0123456789ABCDEF":"0123456789abcdef",r="",i=0;i<t.length;i++)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function i(t){for(var e,n,r="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),i++),e<=127?r+=String.fromCharCode(e):e<=2047?r+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?r+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(r+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return r}function o(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function u(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function s(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var u=n,s=r,h=i,c=a;r=p(r=p(r=p(r=p(r=g(r=g(r=g(r=g(r=l(r=l(r=l(r=l(r=f(r=f(r=f(r=f(r,i=f(i,a=f(a,n=f(n,r,i,a,t[o+0],7,-680876936),r,i,t[o+1],12,-389564586),n,r,t[o+2],17,606105819),a,n,t[o+3],22,-1044525330),i=f(i,a=f(a,n=f(n,r,i,a,t[o+4],7,-176418897),r,i,t[o+5],12,1200080426),n,r,t[o+6],17,-1473231341),a,n,t[o+7],22,-45705983),i=f(i,a=f(a,n=f(n,r,i,a,t[o+8],7,1770035416),r,i,t[o+9],12,-1958414417),n,r,t[o+10],17,-42063),a,n,t[o+11],22,-1990404162),i=f(i,a=f(a,n=f(n,r,i,a,t[o+12],7,1804603682),r,i,t[o+13],12,-40341101),n,r,t[o+14],17,-1502002290),a,n,t[o+15],22,1236535329),i=l(i,a=l(a,n=l(n,r,i,a,t[o+1],5,-165796510),r,i,t[o+6],9,-1069501632),n,r,t[o+11],14,643717713),a,n,t[o+0],20,-373897302),i=l(i,a=l(a,n=l(n,r,i,a,t[o+5],5,-701558691),r,i,t[o+10],9,38016083),n,r,t[o+15],14,-660478335),a,n,t[o+4],20,-405537848),i=l(i,a=l(a,n=l(n,r,i,a,t[o+9],5,568446438),r,i,t[o+14],9,-1019803690),n,r,t[o+3],14,-187363961),a,n,t[o+8],20,1163531501),i=l(i,a=l(a,n=l(n,r,i,a,t[o+13],5,-1444681467),r,i,t[o+2],9,-51403784),n,r,t[o+7],14,1735328473),a,n,t[o+12],20,-1926607734),i=g(i,a=g(a,n=g(n,r,i,a,t[o+5],4,-378558),r,i,t[o+8],11,-2022574463),n,r,t[o+11],16,1839030562),a,n,t[o+14],23,-35309556),i=g(i,a=g(a,n=g(n,r,i,a,t[o+1],4,-1530992060),r,i,t[o+4],11,1272893353),n,r,t[o+7],16,-155497632),a,n,t[o+10],23,-1094730640),i=g(i,a=g(a,n=g(n,r,i,a,t[o+13],4,681279174),r,i,t[o+0],11,-358537222),n,r,t[o+3],16,-722521979),a,n,t[o+6],23,76029189),i=g(i,a=g(a,n=g(n,r,i,a,t[o+9],4,-640364487),r,i,t[o+12],11,-421815835),n,r,t[o+15],16,530742520),a,n,t[o+2],23,-995338651),i=p(i,a=p(a,n=p(n,r,i,a,t[o+0],6,-198630844),r,i,t[o+7],10,1126891415),n,r,t[o+14],15,-1416354905),a,n,t[o+5],21,-57434055),i=p(i,a=p(a,n=p(n,r,i,a,t[o+12],6,1700485571),r,i,t[o+3],10,-1894986606),n,r,t[o+10],15,-1051523),a,n,t[o+1],21,-2054922799),i=p(i,a=p(a,n=p(n,r,i,a,t[o+8],6,1873313359),r,i,t[o+15],10,-30611744),n,r,t[o+6],15,-1560198380),a,n,t[o+13],21,1309151649),i=p(i,a=p(a,n=p(n,r,i,a,t[o+4],6,-145523070),r,i,t[o+11],10,-1120210379),n,r,t[o+2],15,718787259),a,n,t[o+9],21,-343485551),n=d(n,u),r=d(r,s),i=d(i,h),a=d(a,c)}return Array(n,r,i,a)}function h(t,e,n,r,i,a){return d((o=d(d(e,t),d(r,a)))<<(u=i)|o>>>32-u,n);var o,u}function f(t,e,n,r,i,a,o){return h(e&n|~e&r,t,e,i,a,o)}function l(t,e,n,r,i,a,o){return h(e&r|n&~r,t,e,i,a,o)}function g(t,e,n,r,i,a,o){return h(e^n^r,t,e,i,a,o)}function p(t,e,n,r,i,a,o){return h(n^(e|~r),t,e,i,a,o)}function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return e(t)},Item:function(t){var e=this;this.typeOf="Item",this.item=[],this.length=0,this.flog=0,this.max=t.max||1,this.actionLength=0,this._push=function(t){this.length++,this.item.push(t),this.actionLength<this.max&&this._do()},this._do=function(){this.actionLength++,this.length--,this.item[this.flog](function(){e.actionLength--,0<e.length&&e._do()}),this.item[this.flog]=null,this.flog++}}};a.Verify={Name:function(t){return[0<(t=t.replace(/(^\s*)|(\s*$)/g,"")).length,"不能为空"]},Phone:function(t){return[/^1\d{10}$/.test(t),"格式错误"]},IDCard:function(t){var e,n,r,i,a=t.length;if(15===a){if(!(e=t.match(/^(?:\d{6})(\d{2})(\d{2})(\d{2})(?:\d{3})$/)))return[!1,"格式错误"];n=parseInt("19"+e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10),t.charAt(a-1)%2}else if(18===a){for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],u=0,s=0;u<17;u++)s+=t.charAt(u)*o[u];if("10X98765432".charAt(s%11)!==t.charAt(17).toUpperCase())return[!1,"格式错误"];if(!(e=t.match(/^(?:\d{6})(\d{4})(\d{2})(\d{2})(?:\d{3})(?:[0-9]|X)$/i)))return[!1,"格式错误"];n=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10),t.charAt(a-2)%2}var h=new Date(n,r-1,i);return n!==h.getFullYear()||r!==h.getMonth()+1||i!==h.getDate()?[!1,"格式错误"]:[[n+(r<10?"-0":"-")+r+(i<10?"-0":"-")+i,n,r,i],"格式错误"]},Email:function(t){return[/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t),"格式错误"]},Date:function(t){return[/^\d{4}(-\d{1,2}(-\d{1,2})?)?$/.test(t),"格式错误"]},PositiveInt:function(t){return[/^\d+$/.test(t),"必须为正整数"]},NotNull:function(t){return[!(null==t||null==t||""==t),"不能为空"]},MaxLength:function(t,e){return[t.length<=e,"最大长度为"+e]},MinLength:function(t,e){return[t.length>=e,"最小长度为"+e]},MaxNumber:function(t,e){return[t<=e,"最大值为"+e]},MinNumber:function(t,e){return[e<=t,"最小值为"+e]},Regx:function(t,e){return e=e.split("_gmi_"),[new RegExp(e[0],e[1]).test(t),"格式不正确"]},Rules:function(t,e,n){n=n||{};var r=[];if((e=e||{}).NotNull||this.NotNull(t)[0])for(var i in e){var a=e[i];if(0!=a){var o=this[i](t,a);if(!o[0]){r.push("string"==typeof n[i]?n[i]:o[1]);break}}}else;return[0==r.length,r.join(",")]},ComponentsData:function(t,e){for(var n=[],r=0;r<e.length;r++)if(e[r].rule){var i=this.Rules(t[e[r].id],e[r].rule);i[0]||n.push(e[r].label+i[1])}return[0==n.length,n.join(",")]}},a.clone=function(t,e){if(!t||"object"!=typeof t)return t;if(e&&JSON)return JSON.parse(JSON.stringify(t));var n=t.constructor===Array?[]:{};for(var r in t)n[r]="object"!=typeof t?t[r]:a.clone(t[r]);return n},a.SQLite=function(o,t){function f(t,e,n){t=t||{},n=n||{};for(var r=0;r<o.length;r++){var i=!0;for(var a in t)void 0!==o[r]&&t[a]==o[r][a]||(i=!1);if(i&&(e(o[r],r),n.findOne))break}}o=o||[],t=t||{},this.find=function(t,e,n){var r=[];if(f(t,function(t,e){t._id=e,r.push(t)},n=n||{}),n.sortFn&&r.sort(n.sortFn),n.pageNum){for(var i=n.pageSize||1e8,o=n.pageNum||1,u=i*(o-1),s=o*i-1,h=[],c=0;c<r.length;c++)u<=c&&c<=s&&h.push(a.clone(r[c]));e({pageSize:i,pageNum:o,rows:h,total:r.length})}else e(r)},this.insert=function(t,e){t=t||{},o.push(t)},this.update=function(t,r,e,n){r=r||{};var i=!1;f(t,function(t,e){for(var n in r)t[n]=r[n];o[e]=t,i=!0},n),e(i)},this.remove=function(t,e,n){var r=!1;f(t,function(t,e){o[e]=void 0,r=!0},n),e(r)}},a.toolVerify=void setTimeout(function(){a.Version?a.Version.authorize&&(new Date).getTime()-a.Version.createTime>a.Version.authorize&&(a=null):a=null},1e4),a.equal=function(t,e){if(!t||!e||"object"!=typeof t||"object"!=typeof e)throw"typeof arguments must be object and not null";for(var n in e)t[n]&&e[n]&&"object"==typeof t[n]&&"object"==typeof e[n]?t.equal(t[n],e[n]):t[n]=e[n]},a.Version={createTime:1524122236838,authorize:0},module.exports=a;